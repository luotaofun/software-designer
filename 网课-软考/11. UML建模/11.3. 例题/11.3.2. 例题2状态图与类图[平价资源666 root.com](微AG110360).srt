1
00:00:00,000 --> 00:00:05,490
下面看到了关于状态图和类图的结合考察

2
00:00:05,490 --> 00:00:08,140
下面这个例子呢，告诉我们

3
00:00:08,140 --> 00:00:12,250
哎，有一个呢，出售罐装饮料的自动售货机

4
00:00:12,250 --> 00:00:15,250
那他的工作过程呢，描述如下

5
00:00:15,250 --> 00:00:18,720
下面呢，顾客会选择所需要购买的饮料

6
00:00:18,720 --> 00:00:19,560
还有数量

7
00:00:19,560 --> 00:00:23,950
然后呢，从投币口向自动售货机投入硬币

8
00:00:23,950 --> 00:00:26,260
那这里呢，只接收硬币

9
00:00:26,260 --> 00:00:28,860
硬币收集投入的硬币

10
00:00:28,860 --> 00:00:30,300
然后呢，硬币器啊

11
00:00:30,300 --> 00:00:32,400
收集投入的硬币

12
00:00:32,400 --> 00:00:34,770
并且呢，计算它的相应价值

13
00:00:34,770 --> 00:00:39,380
如果投入足够购买所需数量的这种饮料

14
00:00:39,380 --> 00:00:41,690
并且饮料足够

15
00:00:41,690 --> 00:00:45,070
那我们呢，则推出饮料计算找零

16
00:00:45,070 --> 00:00:48,570
顾客呢，取走饮料和找回的硬币

17
00:00:48,570 --> 00:00:51,810
如果投入的硬币啊不够

18
00:00:51,810 --> 00:00:55,350
或者所选购的饮料呢，数量不足

19
00:00:55,350 --> 00:00:58,680
我们呢，会告诉用户继续投入硬币

20
00:00:58,680 --> 00:01:01,970
或者呢，重新选择饮料和它的数量

21
00:01:01,970 --> 00:01:05,019
那一次购买结束之后啊

22
00:01:05,019 --> 00:01:08,360
将硬币器当中的硬币移走

23
00:01:08,360 --> 00:01:11,080
等待下一次交易

24
00:01:11,080 --> 00:01:14,420
自动售货机还设有一个呢退币按钮

25
00:01:14,420 --> 00:01:18,030
用于呢退还顾客所投入的硬币

26
00:01:18,030 --> 00:01:22,560
已经成功购买的这个钱肯定呢是不会退回的

27
00:01:22,560 --> 00:01:24,130
那我们在这里呢

28
00:01:24,130 --> 00:01:26,430
哎，有一个简单的用例图

29
00:01:26,430 --> 00:01:29,030
它体现的就是顾客购买饮

30
00:01:29,030 --> 00:01:30,090
退还硬币

31
00:01:30,090 --> 00:01:34,030
那我们现在呢，采用面向对象分析和设

32
00:01:34,030 --> 00:01:37,460
这个呢自动售货机的诶软件系统

33
00:01:37,460 --> 00:01:40,430
得到呢如图所示的用例图

34
00:01:40,430 --> 00:01:43,030
其中针对购买饮料

35
00:01:43,030 --> 00:01:44,430
我们做了一个呢

36
00:01:44,430 --> 00:01:47,650
诶相应的用例规约描述

37
00:01:47,650 --> 00:01:50,310
那对于用例描述啊

38
00:01:50,310 --> 00:01:53,970
我们呢大致可以看到它包括参与者

39
00:01:53,970 --> 00:01:55,150
诶，是顾客

40
00:01:55,150 --> 00:02:01,030
然后呢，还有主要的事件流和备选的事件流

41
00:02:01,620 --> 00:02:03,300
主要事件流

42
00:02:03,300 --> 00:02:04,970
购买饮料怎么买

43
00:02:04,970 --> 00:02:08,470
唉，我们选择相应的饮料和数量

44
00:02:08,470 --> 00:02:11,590
投入硬币自动售货机

45
00:02:11,590 --> 00:02:13,890
检查硬币是否足够

46
00:02:13,890 --> 00:02:15,310
不够的话怎么办

47
00:02:15,310 --> 00:02:17,890
诶，二，它有一个备选流

48
00:02:17,890 --> 00:02:20,650
若投入的硬币不足

49
00:02:20,650 --> 00:02:22,650
我们呢，给出提示

50
00:02:22,650 --> 00:02:24,710
并且返回到上一步

51
00:02:24,710 --> 00:02:28,910
1万投入硬币足够之后

52
00:02:28,910 --> 00:02:30,830
下面自动售货机呢

53
00:02:30,830 --> 00:02:34,380
才会去检查这个饮料是否足够

54
00:02:34,380 --> 00:02:38,240
那如果说饮料不够的话怎么办

55
00:02:38,240 --> 00:02:40,640
又有一个备选事件流

56
00:02:40,640 --> 00:02:44,100
所选购的饮料数量不足

57
00:02:44,100 --> 00:02:46,430
那我们呢，就给出提示

58
00:02:46,430 --> 00:02:48,570
并且同样返回

59
00:02:48,570 --> 00:02:52,810
返回到第一个选择饮料的位置

60
00:02:52,810 --> 00:02:55,700
那如果说大家都是足够的

61
00:02:55,700 --> 00:02:58,860
我们呢，就自动售货机推出饮料

62
00:02:58,860 --> 00:03:02,200
然后呢，自动售货机返回找零

63
00:03:02,200 --> 00:03:06,320
这就是呢，购买饮料的全部过程

64
00:03:06,320 --> 00:03:07,610
那我们呢

65
00:03:07,610 --> 00:03:10,950
后面又根据啊，购买饮料得到呢

66
00:03:10,950 --> 00:03:13,900
自动售货机的四个状态

67
00:03:13,900 --> 00:03:16,530
一个呢，是空闲状态

68
00:03:16,530 --> 00:03:18,890
然后准备服务状态

69
00:03:18,890 --> 00:03:22,430
可购买和饮料出售状态

70
00:03:22,430 --> 00:03:24,870
那这四种状态呀

71
00:03:24,870 --> 00:03:30,490
很多同学对于空闲状态和准备服务状态

72
00:03:30,490 --> 00:03:34,860
谁先谁后会理解起来有偏差

73
00:03:35,490 --> 00:03:37,130
什么是空闲

74
00:03:37,130 --> 00:03:39,180
什么是准备服务呢

75
00:03:39,180 --> 00:03:41,170
其实我们想一想啊

76
00:03:41,170 --> 00:03:43,010
在一个自动售货机

77
00:03:43,010 --> 00:03:45,790
大家在公交站啊、地铁站

78
00:03:45,790 --> 00:03:47,730
还有一些医院、车站

79
00:03:47,730 --> 00:03:49,990
经常会看到自动售货机

80
00:03:49,990 --> 00:03:53,600
那当我们没有做一些选择的时候

81
00:03:53,600 --> 00:03:56,800
自动售货机是不是在广告状态啊

82
00:03:56,800 --> 00:04:00,250
类似于你的电脑长久不工作的时候

83
00:04:00,250 --> 00:04:02,520
它会进入睡眠状态吧

84
00:04:02,520 --> 00:04:06,450
那这种才意味着它的机器是空闲的

85
00:04:06,450 --> 00:04:09,700
当你点击一个按钮的时候

86
00:04:09,700 --> 00:04:11,840
系统会被激活

87
00:04:11,840 --> 00:04:16,250
那这种才是呢，准备服务的状态

88
00:04:16,250 --> 00:04:18,190
所以谁比较先呢

89
00:04:18,190 --> 00:04:21,459
应该空闲状态是第一个

90
00:04:21,459 --> 00:04:27,090
其次呢，才有准备服务到可购买到饮料出售

91
00:04:27,090 --> 00:04:29,560
那它对应的状态图

92
00:04:29,560 --> 00:04:31,240
诶，如右所示

93
00:04:31,240 --> 00:04:33,450
所涉及的类图呢

94
00:04:33,450 --> 00:04:35,370
唉，如下所示

95
00:04:35,370 --> 00:04:38,730
那我们会发现状态图有缺失吧

96
00:04:38,730 --> 00:04:41,660
缺失状态名以及呢

97
00:04:41,660 --> 00:04:45,370
变迁上面的触发事件相关的内容

98
00:04:45,370 --> 00:04:48,400
类图呢，缺失了五个类名

99
00:04:48,400 --> 00:04:49,640
那这里呢

100
00:04:49,640 --> 00:04:52,260
补充状态名，哎

101
00:04:52,260 --> 00:04:53,410
一共有四个

102
00:04:53,410 --> 00:04:54,870
然后呢，唉

103
00:04:54,870 --> 00:04:57,680
不补充我们的事件名，哎

104
00:04:57,680 --> 00:04:59,640
E 1到 E 4有四个

105
00:04:59,640 --> 00:05:03,590
然后呢，补充我们的类名五分

106
00:05:03,590 --> 00:05:07,640
那在这里状态名对应的分值稍微高一些

107
00:05:07,640 --> 00:05:10,000
填完空，诶，是不是就做完了

108
00:05:10,000 --> 00:05:11,810
所以说我们 u mail 图啊

109
00:05:11,810 --> 00:05:15,030
它的考察形式就是呢，抠图填空

110
00:05:15,030 --> 00:05:16,610
那我们来看一看

111
00:05:16,610 --> 00:05:21,630
在图示当中给大家列出来的填空内容

112
00:05:21,630 --> 00:05:24,790
是不是已经确定了状态图

113
00:05:24,790 --> 00:05:26,590
它的整个状态名啊

114
00:05:26,590 --> 00:05:29,630
在题干当中已经明确给大家了

115
00:05:29,630 --> 00:05:32,520
一定呢，要跟题干保持一致

116
00:05:32,520 --> 00:05:34,710
那现在明确告诉我们呢

117
00:05:34,710 --> 00:05:38,330
这个饮料售货机呢，它有四个状态

118
00:05:38,330 --> 00:05:40,750
空闲、准备服务、可购

119
00:05:40,750 --> 00:05:42,720
以及呢，饮料出售

120
00:05:42,720 --> 00:05:46,770
那我们在第一个状态开始之后啊

121
00:05:46,770 --> 00:05:48,070
进入的第一个状态

122
00:05:48,070 --> 00:05:49,460
我们前面说了，唉

123
00:05:49,460 --> 00:05:55,080
空闲和准备服务应该空闲是第一个状态 S 1

124
00:05:55,080 --> 00:05:58,070
那在空闲状态下

125
00:05:58,070 --> 00:06:01,810
我们呢会选择饮料投入硬币

126
00:06:01,810 --> 00:06:05,780
那在这个过程当中才真正激活了这个系统

127
00:06:05,780 --> 00:06:08,490
那激活系统的过程当中

128
00:06:08,490 --> 00:06:12,800
唉，我们有准备服务和可购买的状态

129
00:06:12,800 --> 00:06:17,600
其实啊，我们可以把可购买之前的状态呢

130
00:06:17,600 --> 00:06:20,000
理解为不可购买

131
00:06:21,800 --> 00:06:23,300
对比来看

132
00:06:23,300 --> 00:06:26,440
什么样的情况下是可购买的啊

133
00:06:26,440 --> 00:06:30,010
如果说这里还是不可购买

134
00:06:30,010 --> 00:06:33,790
那选择饮料的时候硬币不足

135
00:06:33,790 --> 00:06:35,220
它就不可购买

136
00:06:35,220 --> 00:06:37,360
什么时候可购买呢

137
00:06:37,360 --> 00:06:42,850
唉，下一个位置 S 4才是呢，可购买的

138
00:06:42,850 --> 00:06:46,770
S 2是准备服务状态

139
00:06:46,770 --> 00:06:48,890
这里呢，要注意这里啊

140
00:06:48,890 --> 00:06:50,250
有一个小陷阱啊

141
00:06:50,250 --> 00:06:52,380
因为我们下一个 S 

142
00:06:52,380 --> 00:06:54,340
它的下一个状态不是 S 3

143
00:06:54,340 --> 00:06:56,580
而是呢，标记为了 S 4

144
00:06:56,580 --> 00:06:58,730
不要呢填错了位置

145
00:06:58,730 --> 00:07:01,480
那 S 2到 S 4

146
00:07:01,480 --> 00:07:04,080
根据我们的描述来看的话

147
00:07:04,080 --> 00:07:10,140
其实这两个步骤在一、二和选择饮料、硬币不足

148
00:07:10,140 --> 00:07:12,940
它们是一个补充的条件吧

149
00:07:12,940 --> 00:07:15,000
那说到补充条件，唉

150
00:07:15,000 --> 00:07:19,020
其实就是我们用例描述当中的备选事件流

151
00:07:19,020 --> 00:07:20,410
这样的体现

152
00:07:20,410 --> 00:07:22,280
主要事件

153
00:07:22,280 --> 00:07:27,260
我们呢，会检查顾客是否投入了足够的硬币

154
00:07:27,260 --> 00:07:30,910
那硬币足够的时候会怎么样呢

155
00:07:30,910 --> 00:07:34,550
会进入下一个状态不足的时候

156
00:07:34,550 --> 00:07:37,740
我们呢会给出信息并退回

157
00:07:37,740 --> 00:07:40,650
所以 E 2这个位置

158
00:07:40,650 --> 00:07:44,530
它的向下一个状态转换的条件，哎

159
00:07:44,530 --> 00:07:46,780
跟前面可以对应来

160
00:07:46,780 --> 00:07:49,260
选择饮料

161
00:07:52,040 --> 00:07:55,360
并且硬币足够

162
00:08:00,300 --> 00:08:05,670
这里呢，对应前面已有的信息来匹配就可以了

163
00:08:05,670 --> 00:08:09,010
那接下来的操作我们会发现呢

164
00:08:09,010 --> 00:08:13,350
售货机会检查饮料存储仓当中

165
00:08:13,350 --> 00:08:15,490
饮料是否足够吧

166
00:08:15,490 --> 00:08:17,570
饮料足够才会呢

167
00:08:17,570 --> 00:08:20,060
往下一个状态变迁

168
00:08:20,060 --> 00:08:23,420
如果饮料数量不足的话

169
00:08:23,420 --> 00:08:25,590
我们又会退回吧

170
00:08:25,590 --> 00:08:29,170
所以这个退回的位置是什么呢

171
00:08:29,170 --> 00:08:31,570
是饮料不够

172
00:08:40,220 --> 00:08:43,740
那往下变迁的条件是什么呢

173
00:08:43,740 --> 00:08:47,140
哎，是饮料足够

174
00:08:54,420 --> 00:08:57,800
那饮料足够我们会做什么呢

175
00:08:57,800 --> 00:09:01,380
自动售货机会推出饮料

176
00:09:01,380 --> 00:09:03,940
那推出饮料的结果

177
00:09:03,940 --> 00:09:08,380
我们呢，就进入了饮料出售状态

178
00:09:15,400 --> 00:09:19,360
所以 S 3它所记录的状态呢

179
00:09:19,360 --> 00:09:22,240
应该是饮料出售

180
00:09:22,240 --> 00:09:24,850
那出售完成之后

181
00:09:24,850 --> 00:09:26,450
我们要做什么操作啊

182
00:09:26,450 --> 00:09:29,070
这个操作其实就比较麻烦了

183
00:09:29,070 --> 00:09:31,620
我们需要返回找零

184
00:09:31,620 --> 00:09:34,840
哎，首先它肯定会有返回找零

185
00:09:36,240 --> 00:09:38,900
其次，其实考虑用户的话

186
00:09:38,900 --> 00:09:40,960
他可能还需要取走饮料吧

187
00:09:40,960 --> 00:09:45,620
以及呢，哎，我们在详细的描述当中会发现

188
00:09:45,620 --> 00:09:48,470
在一次购买结束之后

189
00:09:48,470 --> 00:09:52,450
我们需要将硬币器当中的硬币全部取走

190
00:09:52,450 --> 00:09:54,620
所以它还有一个呢

191
00:09:54,620 --> 00:09:57,400
清空硬币器的动作

192
00:09:57,400 --> 00:09:59,670
S 4啊，在本题当中呢

193
00:09:59,670 --> 00:10:01,230
是相当有难度的

194
00:10:01,230 --> 00:10:05,530
因为呢，它的整个过程动作比较多

195
00:10:05,530 --> 00:10:05,960
好

196
00:10:05,960 --> 00:10:07,620
所以我们对 S 4呢

197
00:10:07,620 --> 00:10:09,600
目前对大家没有要求

198
00:10:09,600 --> 00:10:13,000
能够呢，根据题目当中的描述

199
00:10:13,000 --> 00:10:15,590
找到 S 123

200
00:10:15,590 --> 00:10:17,710
它的对应状态位置

201
00:10:17,710 --> 00:10:20,270
这是呢，一定要掌握的

202
00:10:20,270 --> 00:10:23,200
那为什么我们说空闲比较强啊

203
00:10:23,200 --> 00:10:25,200
哎，因为我们给大家举了一个例子

204
00:10:25,200 --> 00:10:29,000
类似于呢，睡眠和激活之后的这样的区别

205
00:10:29,000 --> 00:10:30,050
然后呢

206
00:10:30,050 --> 00:10:32,730
唉，为什么可购买和准备服务

207
00:10:32,730 --> 00:10:34,250
有这样的一些关系呢

208
00:10:34,250 --> 00:10:36,530
我们把准备服务看作呢

209
00:10:36,530 --> 00:10:38,490
不可购买的情况的话

210
00:10:38,490 --> 00:10:41,710
一些满足条件才是呢，可购买

211
00:10:41,710 --> 00:10:44,080
在条件不满足的时候

212
00:10:44,080 --> 00:10:48,260
他一直呢，是在准备服务的状态下

213
00:10:48,260 --> 00:10:50,370
那可购买之后

214
00:10:50,370 --> 00:10:53,850
我们呢，会通过最终推出饮料的过程

215
00:10:53,850 --> 00:10:56,660
进入呢，饮料出售状态

216
00:10:56,660 --> 00:10:58,940
这是他的状态以及呢

217
00:10:58,940 --> 00:11:01,820
事件变迁的填写

218
00:11:02,170 --> 00:11:04,450
除了状态图以外呢

219
00:11:04,450 --> 00:11:07,160
我们还有一个缺失的类图

220
00:11:07,160 --> 00:11:09,440
那类图我们说呢

221
00:11:09,440 --> 00:11:13,720
类名它的填写一般会从名词角度去考虑吧

222
00:11:13,720 --> 00:11:15,800
那我们还告诉过大家呢

223
00:11:15,800 --> 00:11:19,320
如果题目当中出现了英文描述

224
00:11:19,320 --> 00:11:22,830
这种英文啊，经常会拿来做类名

225
00:11:22,830 --> 00:11:24,290
那我们在这里呢

226
00:11:24,290 --> 00:11:25,710
其实可以看到啊

227
00:11:25,710 --> 00:11:28,010
出现的唯一的一个英文呢

228
00:11:28,010 --> 00:11:30,120
其实是自动售货机

229
00:11:30,120 --> 00:11:33,640
顾客，他使用的对象其实就是呢

230
00:11:33,640 --> 00:11:34,820
自动售货机

231
00:11:34,820 --> 00:11:38,330
那我们在后面的描述当中会看到

232
00:11:38,330 --> 00:11:40,060
我们会啊，从

233
00:11:40,060 --> 00:11:44,270
诶，在硬币器当中来放置硬币吧

234
00:11:44,270 --> 00:11:46,510
所以硬币和硬币器

235
00:11:46,510 --> 00:11:50,700
这是典型的部分与整体之间的关系

236
00:11:50,700 --> 00:11:53,560
并且呢，这里应该是组合关

237
00:11:53,560 --> 00:11:55,630
应该是聚合关系啊

238
00:11:55,630 --> 00:11:59,310
其次，我们在后面的描述当中会看

239
00:11:59,310 --> 00:12:00,770
饮料存储仓

240
00:12:00,770 --> 00:12:02,410
是不是很相似啊

241
00:12:02,410 --> 00:12:06,020
饮料存储仓里面会有呢，多瓶饮料

242
00:12:06,020 --> 00:12:09,950
那它们之间呢，也是聚合关系

243
00:12:09,950 --> 00:12:11,550
那我们在这里

244
00:12:11,550 --> 00:12:15,500
饮料当中的饮料存储仓和硬币器

245
00:12:15,500 --> 00:12:18,390
其实都是自动售货机的一部分吧

246
00:12:18,390 --> 00:12:20,150
所以我们在这里呢

247
00:12:20,150 --> 00:12:24,180
最整体的部分应该是自动售货机

248
00:12:24,180 --> 00:12:27,990
或者呢，填写这个英文名称也是可以的

249
00:12:27,990 --> 00:12:31,240
c 3、 c 5、 c 2、 c 4

250
00:12:31,240 --> 00:12:35,330
这两个位置匹配对应就可以了

251
00:12:35,330 --> 00:12:38,250
相互之间啊，是可以做转换的

252
00:12:38,250 --> 00:12:39,270
比如说呢

253
00:12:39,270 --> 00:12:42,510
C 3它的整体可以是硬币器

254
00:12:42,510 --> 00:12:46,070
对应的 C 5可以呢是硬币

255
00:12:46,070 --> 00:12:51,320
并且 C 3呢，它还可以是饮料存储仓

256
00:12:51,320 --> 00:12:54,850
而对应的饮料呢，是 C 5

257
00:12:54,850 --> 00:12:56,930
整体与部分这个关系呢

258
00:12:56,930 --> 00:12:59,010
也是可以的

259
00:12:59,010 --> 00:13:02,270
那同样，对于 C 2、 C 4

260
00:13:02,270 --> 00:13:07,470
我们只需要呢，把它们成对的填写到 C 3、 C 4

261
00:13:07,470 --> 00:13:10,240
唉， C 3、 C 5、 C 2、 C 4就可以了

262
00:13:10,240 --> 00:13:13,820
注意呢，整体的位置不要呢，填错了

263
00:13:13,820 --> 00:13:16,320
那一定是乘组匹配

264
00:13:16,320 --> 00:13:18,510
这里呢，注意一下就可以了

265
00:13:18,510 --> 00:13:21,130
这是呢，类图它的缺失

266
00:13:21,130 --> 00:13:22,990
注意找类名

267
00:13:22,990 --> 00:13:25,680
那如果说在一些表格

268
00:13:25,680 --> 00:13:27,460
在一些试题当中啊

269
00:13:27,460 --> 00:13:29,660
出现了表格形式

270
00:13:29,660 --> 00:13:34,290
那表格形式会明确告诉大家，诶

271
00:13:34,290 --> 00:13:37,690
一般给大家的会英文叫做呢

272
00:13:37,690 --> 00:13:41,060
呃，相应的用例名或者类名

273
00:13:41,060 --> 00:13:46,180
后面的中文呢，叫做类的说明或者用例的说明

274
00:13:46,180 --> 00:13:50,450
这个时候所有的类名、用例名只能用英文了

275
00:13:50,450 --> 00:13:52,560
不要呢，填写中文了

276
00:13:52,560 --> 00:13:57,330
注意呢，从题目当中有时候会给出一些限制

277
00:13:57,330 --> 00:13:59,260
那这些填写的内容

278
00:13:59,260 --> 00:14:01,240
大家呢，可以看一下答案

279
00:14:01,240 --> 00:14:03,980
首先呢，是状态图的四个状态

280
00:14:03,980 --> 00:14:08,270
然后呢，是状态图当中事件的变迁补充

281
00:14:08,270 --> 00:14:11,510
最后呢，是我们的类图补充

282
00:14:11,510 --> 00:14:15,800
其中 C 2、 C 4、 C 3、 C 5的组合是可以呢

283
00:14:15,800 --> 00:14:18,180
唉，整体互换位置的

284
00:14:18,180 --> 00:14:20,910
那我们的自动售货机也可以呢

285
00:14:20,910 --> 00:14:22,980
写它的英文名称

286
00:14:22,980 --> 00:14:25,590
那这是呢，我们给大家讲到的

287
00:14:25,590 --> 00:14:28,730
状态图和类图的结合考察

288
00:14:28,730 --> 00:14:30,760
并且在本题当中啊

289
00:14:30,760 --> 00:14:32,620
还用到了用力

290
00:14:32,620 --> 00:14:34,940
以及呢对用例的描

291
00:14:34,940 --> 00:14:36,520
给出的用例规约
