1
00:00:00,000 --> 00:00:02,640
接下来，我们展开来看一下算法

2
00:00:02,640 --> 00:00:04,860
语言当中的普通查询

3
00:00:04,860 --> 00:00:06,880
对于普通查询呢

4
00:00:06,880 --> 00:00:10,030
也就是我们常见的 select 查询语句

5
00:00:10,030 --> 00:00:14,100
它主要呢，是结合关系代数的综合考察

6
00:00:14,100 --> 00:00:17,140
它们之间啊，有一定的对应关系

7
00:00:17,140 --> 00:00:19,860
首先呢，先来看一下这个语言

8
00:00:19,860 --> 00:00:21,700
它有一个简单的分类

9
00:00:21,700 --> 00:00:23,060
首先我们看到呢

10
00:00:23,060 --> 00:00:25,640
第一个大分类是做数据的查询

11
00:00:25,640 --> 00:00:29,460
对应的动词就是我们常说的 select 查找

12
00:00:29,460 --> 00:00:31,940
还有呢，数据定义的语句

13
00:00:31,940 --> 00:00:36,330
包括创建表、删除表和修改表

14
00:00:36,330 --> 00:00:39,780
第三类呢，是数据操纵的语句

15
00:00:39,780 --> 00:00:42,060
包括呢，插入、更新

16
00:00:42,060 --> 00:00:44,760
还有呢，删除相应的记录

17
00:00:44,760 --> 00:00:47,630
最后呢，还有数据控制的语句

18
00:00:47,630 --> 00:00:51,420
常用的就是呢，我们对权限的分配

19
00:00:51,420 --> 00:00:53,300
以及呢，收回 A 

20
00:00:53,300 --> 00:00:55,560
这是授予权限的关键字

21
00:00:55,560 --> 00:00:58,290
这是呢，收回权限的关键字

22
00:00:58,290 --> 00:01:02,950
那我们首先看到的是 select 查询语句

23
00:01:02,950 --> 00:01:06,290
我们通用的普通查询结构啊

24
00:01:06,290 --> 00:01:10,030
是查询对应的属性

25
00:01:10,030 --> 00:01:14,670
从某一些表格的目标进行筛选

26
00:01:14,670 --> 00:01:16,240
筛选之后呢

27
00:01:16,240 --> 00:01:18,160
对应的记录可以呢

28
00:01:18,160 --> 00:01:21,340
按一定的顺序来进行排列

29
00:01:21,340 --> 00:01:24,420
这就是一个呢简单的查询结构

30
00:01:24,420 --> 00:01:27,850
比如说呢，唉，我们经常会用到呃

31
00:01:27,850 --> 00:01:30,070
select 星

32
00:01:30,110 --> 00:01:31,390
from 

33
00:01:32,270 --> 00:01:34,470
S 啊，还有呢

34
00:01:34,470 --> 00:01:35,230
are 

35
00:01:35,790 --> 00:01:42,750
will 满足 S 点 s number 等于二点 s number 

36
00:01:42,750 --> 00:01:45,700
那这个查询语句是什么意思呢

37
00:01:45,700 --> 00:01:50,140
首先查询星号表示所有的属性

38
00:01:50,140 --> 00:01:54,030
列 from s 和 R 两个表

39
00:01:54,030 --> 00:01:55,130
逗号隔开

40
00:01:55,130 --> 00:01:59,770
它表示针对 S 和 R 的笛卡尔基记录

41
00:01:59,770 --> 00:02:01,470
来进行筛选

42
00:02:01,470 --> 00:02:04,620
筛选满足条件的语句

43
00:02:04,620 --> 00:02:09,110
那这后面筛选条件其实就是选择的结果

44
00:02:09,110 --> 00:02:11,750
这里的星号也可以呢

45
00:02:11,750 --> 00:02:14,310
写 S 1点 s number 等等

46
00:02:14,310 --> 00:02:17,810
也就是呢对应投影的结果

47
00:02:17,810 --> 00:02:19,260
那就是呢

48
00:02:19,260 --> 00:02:22,740
关于我们查询的基本表达

49
00:02:23,290 --> 00:02:25,370
那查询之后

50
00:02:25,370 --> 00:02:29,380
我们查询的对象就是呢基本表

51
00:02:29,380 --> 00:02:33,480
查询的结果我们叫做呢查询表

52
00:02:33,480 --> 00:02:39,020
针对查询表会在一个界面当中给大家列出来

53
00:02:39,020 --> 00:02:41,140
那投影所有的属性

54
00:02:41,140 --> 00:02:42,620
列名与之对应

55
00:02:42,620 --> 00:02:44,500
筛选之后的记录

56
00:02:44,500 --> 00:02:46,200
哎，与之对应

57
00:02:46,200 --> 00:02:47,950
对应之后啊

58
00:02:47,950 --> 00:02:51,260
我们还可以进行一定的排

59
00:02:51,260 --> 00:02:55,230
order by ，也就是按某一个列名来排序

60
00:02:55,230 --> 00:02:56,810
可以呢升序

61
00:02:56,810 --> 00:02:59,110
也可以降序

62
00:02:59,760 --> 00:03:01,220
这就是呢

63
00:03:01,220 --> 00:03:04,600
我们查询最终形成的结果

64
00:03:04,600 --> 00:03:06,060
那查询之后啊

65
00:03:06,060 --> 00:03:08,100
我们也可以呢形成视图

66
00:03:08,100 --> 00:03:09,530
还有呢，视图表

67
00:03:09,530 --> 00:03:11,600
视图表是一个虚表

68
00:03:11,600 --> 00:03:14,950
查询表呢，其实也是一个虚表

69
00:03:14,950 --> 00:03:17,120
针对普通查询啊

70
00:03:17,120 --> 00:03:22,460
它一般是结合我们的关系代数来综合考察的

71
00:03:22,460 --> 00:03:25,220
因为在查询语句当中

72
00:03:25,220 --> 00:03:28,450
from 的对象如果有两个表格

73
00:03:28,450 --> 00:03:32,880
它针对的其实是笛卡尔基的结果来进行查询

74
00:03:32,880 --> 00:03:34,890
那这种情况下

75
00:03:34,890 --> 00:03:37,410
如果给我们的是笛卡尔基

76
00:03:37,410 --> 00:03:39,330
我们针对笛卡尔基查询

77
00:03:39,330 --> 00:03:42,470
如果给我们的表达式是自然连接

78
00:03:42,470 --> 00:03:46,800
我们还要呢，转换成笛卡尔基来进行分析

79
00:03:46,800 --> 00:03:49,010
那在这个过程当中

80
00:03:49,010 --> 00:03:50,850
它的考察形式呢

81
00:03:50,850 --> 00:03:55,650
就是补充我们查询语句当中缺失的部分

82
00:03:55,650 --> 00:03:57,130
那我们来看一下

83
00:03:57,130 --> 00:03:59,270
首先给定关系模

84
00:03:59,270 --> 00:04:03,210
RABC 、 DE 和 SBC 、 FG 

85
00:04:03,210 --> 00:04:07,410
与之对应的表达式二和 S 做自然连接，诶

86
00:04:07,410 --> 00:04:10,330
它的投影和选择用的是列号

87
00:04:10,330 --> 00:04:12,280
我们先标一下列号

88
00:04:12,280 --> 00:04:16,480
首先自然连接的列号一、二、三、四、五

89
00:04:16,480 --> 00:04:18,800
同名属性列不用记录

90
00:04:18,800 --> 00:04:21,329
那六和七是 F 和 G 

91
00:04:21,329 --> 00:04:25,900
那与之对应的我们要选择二小于七

92
00:04:25,900 --> 00:04:31,310
对应的其实是 R 点 B 小于 S 点击

93
00:04:31,310 --> 00:04:32,540
然后呢

94
00:04:32,540 --> 00:04:35,020
投影二、四、六、

95
00:04:35,020 --> 00:04:37,860
对应的是 R 点 B 

96
00:04:37,860 --> 00:04:42,860
R 点 D 、 S 点 FS 、点 G 吧

97
00:04:42,860 --> 00:04:45,370
这是它对应的属性列

98
00:04:45,370 --> 00:04:49,320
那我们与之对应的 circle 语句的话

99
00:04:49,320 --> 00:04:51,260
从投影诶

100
00:04:51,260 --> 00:04:53,740
从我们笛卡尔基的结果当中

101
00:04:53,740 --> 00:04:58,690
投影和选择的属性列明其实是没有变的

102
00:04:58,690 --> 00:05:00,820
它变化的只有列号

103
00:05:00,820 --> 00:05:04,050
那下面给我们的都是列明

104
00:05:04,050 --> 00:05:05,890
所以呢，直接看就行了

105
00:05:05,890 --> 00:05:10,750
唉，我们投影的结果包括 BDF 、 G 吧

106
00:05:10,750 --> 00:05:14,390
那这里因为只有二点 B 

107
00:05:14,390 --> 00:05:16,190
它是同名的

108
00:05:16,190 --> 00:05:20,470
所以呢，同名要标识二点 B 

109
00:05:20,770 --> 00:05:26,270
非同名的 D 、 F 、 G 可以直接列出来

110
00:05:26,270 --> 00:05:28,500
因为呢，不会存在混淆了

111
00:05:28,500 --> 00:05:32,440
那投影的结果应该呢是 A 选项

112
00:05:32,440 --> 00:05:35,770
我们筛选的条件是什么呢

113
00:05:35,770 --> 00:05:39,170
R 点 B 小于 S 点 G 

114
00:05:41,280 --> 00:05:45,580
与之对应的还要同时满足什么条件啊

115
00:05:45,580 --> 00:05:49,720
我们说查询语句针对的对象是笛卡尔基

116
00:05:49,720 --> 00:05:53,360
它与自然连接有一个很大的特色呢

117
00:05:53,360 --> 00:05:58,560
区别就在于同名属性列取值相等

118
00:05:58,560 --> 00:06:01,530
所以还需要同时满

119
00:06:01,530 --> 00:06:04,190
R 点 B 等于 S 点 B 

120
00:06:04,190 --> 00:06:06,730
二点 C 等于 S 点 C 

121
00:06:06,730 --> 00:06:10,930
同时满足用 and 来进行表示

122
00:06:10,930 --> 00:06:15,350
那这就是呢笛卡尔基与 SQL 语句的对应

123
00:06:15,350 --> 00:06:16,240
以及呢

124
00:06:16,240 --> 00:06:20,860
自然连接与 SQL 语句与 SQL 语句的对应关系

125
00:06:20,860 --> 00:06:24,800
中间呢，多了一个转换的同名属性

126
00:06:24,800 --> 00:06:26,560
列取值相等的过程

127
00:06:26,560 --> 00:06:28,230
不要呢遗漏了

128
00:06:28,230 --> 00:06:32,230
那这就是呢，针对普通查询的考察
