1
00:00:00,000 --> 00:00:04,080
接下来我们来看一下在数据库设计过程当中

2
00:00:04,080 --> 00:00:06,590
对于概念设计阶段的 ER 图

3
00:00:06,590 --> 00:00:10,820
如何转换成逻辑结构设计阶段的关系模式

4
00:00:10,820 --> 00:00:14,720
那这个转换是需要遵循一定的转换原则的

5
00:00:14,720 --> 00:00:16,710
这种转换过程啊

6
00:00:16,710 --> 00:00:19,910
一方面，在软件设计师的上五题当中

7
00:00:19,910 --> 00:00:21,090
一旦出现呢

8
00:00:21,090 --> 00:00:24,040
会考到两到三分的分值

9
00:00:24,040 --> 00:00:25,270
另一方面呢

10
00:00:25,270 --> 00:00:28,840
我们在下午题的时候做数据库设计题

11
00:00:28,840 --> 00:00:30,660
关系模式补充的时候

12
00:00:30,660 --> 00:00:34,280
经常呢，会用到这个转换的规则

13
00:00:34,280 --> 00:00:36,750
那我们首先来看一下

14
00:00:36,750 --> 00:00:39,980
大致的了解一下它的转换依据

15
00:00:39,980 --> 00:00:40,860
首先的话

16
00:00:40,860 --> 00:00:43,590
诶，针对所有实体而言

17
00:00:43,590 --> 00:00:45,730
每一个实体一定呢

18
00:00:45,730 --> 00:00:48,510
要单独转换成一个关系模式

19
00:00:48,510 --> 00:00:50,850
也就是一张二维表

20
00:00:50,850 --> 00:00:55,050
其次，联系它的转换就不一样了

21
00:00:55,050 --> 00:00:57,290
联系在转换的时候啊

22
00:00:57,290 --> 00:01:02,240
首先联系的分类有一对一、一对多和多对多

23
00:01:02,240 --> 00:01:04,629
对一对一的类型而言

24
00:01:04,629 --> 00:01:08,710
它可以成为独立的关系模式

25
00:01:08,710 --> 00:01:10,910
哎，我们单独建一张表

26
00:01:10,910 --> 00:01:12,170
也可以呢

27
00:01:12,170 --> 00:01:14,470
合并到实体当中

28
00:01:14,470 --> 00:01:17,060
体现它们之间的联系

29
00:01:17,060 --> 00:01:19,580
那这种转换方式的话

30
00:01:19,580 --> 00:01:22,060
独立的关系模式需要呢

31
00:01:22,060 --> 00:01:24,380
并入两端实体的主见

32
00:01:24,380 --> 00:01:26,560
以及联系自身的属性

33
00:01:26,560 --> 00:01:27,970
这种情况下

34
00:01:27,970 --> 00:01:30,840
新的这个独立关系模式的主见啊

35
00:01:30,840 --> 00:01:33,160
可以选择实体，诶

36
00:01:33,160 --> 00:01:36,440
任意一端实体的主线作为这个关系的主线

37
00:01:36,440 --> 00:01:38,850
其次可以进行归并

38
00:01:38,850 --> 00:01:41,070
那它呢，可以归并到任意一端

39
00:01:41,070 --> 00:01:43,620
大家一对一，两端都一样

40
00:01:43,620 --> 00:01:46,460
那归并的时候什么叫归并呢

41
00:01:46,460 --> 00:01:48,200
体现联系归并的话

42
00:01:48,200 --> 00:01:50,280
会将另一端的主见

43
00:01:50,280 --> 00:01:53,080
并入到我们的多端当中来

44
00:01:53,080 --> 00:01:54,450
并入的时候呢

45
00:01:54,450 --> 00:01:57,910
如果联系自身有属性也要进行并入

46
00:01:57,910 --> 00:02:01,000
那新的这个关系模式当中

47
00:02:01,000 --> 00:02:03,660
主见是不需要发生变化的

48
00:02:03,660 --> 00:02:05,740
这是一对一

49
00:02:05,910 --> 00:02:09,090
对于一对多联系来看的话

50
00:02:09,090 --> 00:02:11,810
它也有两种转换方式

51
00:02:11,810 --> 00:02:15,280
可以形成独立的关系模式

52
00:02:15,280 --> 00:02:17,030
那这种情况

53
00:02:17,030 --> 00:02:18,670
独立关系模

54
00:02:18,670 --> 00:02:21,170
为了体现它是二者的联系

55
00:02:21,170 --> 00:02:23,620
会并入两端的主键

56
00:02:23,620 --> 00:02:26,220
以及呢，联系自身的属性

57
00:02:26,220 --> 00:02:27,010
注意

58
00:02:27,010 --> 00:02:29,990
这个关系模式的主见是多端

59
00:02:29,990 --> 00:02:31,870
主线不能任意了

60
00:02:31,870 --> 00:02:34,600
其次，可以呢，归并，并入呢

61
00:02:34,600 --> 00:02:37,240
多的一端不能任意归并啊

62
00:02:37,240 --> 00:02:40,270
它是确定归并到多的一端

63
00:02:40,270 --> 00:02:42,090
那归并过程的话

64
00:02:42,090 --> 00:02:44,410
会并入另一端主

65
00:02:44,410 --> 00:02:46,850
以及呢，联系自身的属性

66
00:02:46,850 --> 00:02:48,230
主见呢，哎

67
00:02:48,230 --> 00:02:49,250
归并之后

68
00:02:49,250 --> 00:02:51,670
主见是可以发生变化吗

69
00:02:51,670 --> 00:02:54,460
不需要保持不变就可以了

70
00:02:54,460 --> 00:02:56,560
第三种，多对多

71
00:02:56,560 --> 00:03:00,140
多对多的联系不能进行归并

72
00:03:00,140 --> 00:03:04,370
我们只能啊，形成独立的关系模式

73
00:03:04,370 --> 00:03:06,090
独立关系模式的话

74
00:03:06,090 --> 00:03:09,110
就需要呢，将两段主键进行并入吧

75
00:03:09,110 --> 00:03:12,210
并且新的关系模式

76
00:03:12,210 --> 00:03:17,260
它的主键是两端主键的组合键啊

77
00:03:17,260 --> 00:03:18,810
在这里啊

78
00:03:18,810 --> 00:03:21,460
所有并入的主见都是呢

79
00:03:21,460 --> 00:03:24,300
可以作为外键来理解的

80
00:03:24,300 --> 00:03:26,100
那这是呢，关于啊

81
00:03:26,100 --> 00:03:30,460
我们亚图转关系模式的转换原则

82
00:03:30,460 --> 00:03:33,060
诶，听起来非常的枯燥

83
00:03:33,060 --> 00:03:36,480
我们呢，以实例来分析看看

84
00:03:37,300 --> 00:03:40,740
首先第一种一对一的联系

85
00:03:41,730 --> 00:03:44,390
假设一个学校只有呢

86
00:03:44,390 --> 00:03:46,350
一个校长来任职

87
00:03:46,350 --> 00:03:48,330
校长有相应的属性

88
00:03:48,330 --> 00:03:50,200
学校有相应的属性

89
00:03:50,200 --> 00:03:54,290
任职的过程当中要记录他的任职时间

90
00:03:54,290 --> 00:03:56,090
那他进行

91
00:03:56,090 --> 00:03:59,100
诶，转换成关系模式的时候

92
00:03:59,100 --> 00:04:02,140
首先所有的实体校

93
00:04:02,140 --> 00:04:06,050
相应属性、姓名、性别、职称、年龄记录下来

94
00:04:06,050 --> 00:04:10,230
学校的属性、校名、地址和电话记录下来

95
00:04:10,230 --> 00:04:13,870
那接下来对联系进行处理的话

96
00:04:13,870 --> 00:04:17,850
任职这个联系任职时间是它自身的属性吧

97
00:04:17,850 --> 00:04:20,700
还要并入两端主见

98
00:04:20,700 --> 00:04:22,200
那我们会发现呢

99
00:04:22,200 --> 00:04:23,780
校长没有身份证号

100
00:04:23,780 --> 00:04:25,850
只能拿姓名做主键

101
00:04:25,850 --> 00:04:27,430
学校没有编号

102
00:04:27,430 --> 00:04:29,700
同样是校名做主监

103
00:04:29,700 --> 00:04:32,190
那将两个主线并入了

104
00:04:32,190 --> 00:04:34,190
其实在任职关系当中

105
00:04:34,190 --> 00:04:35,810
这就是两个外键吧

106
00:04:35,810 --> 00:04:39,780
那我们对于认知关系它的属性，唉

107
00:04:39,780 --> 00:04:41,740
我们选择主见的话

108
00:04:41,740 --> 00:04:46,610
可以选择任意一端的主见作为任职的主见

109
00:04:46,610 --> 00:04:50,230
这是第一种方式独立转换

110
00:04:50,450 --> 00:04:53,610
第二种方式可以呢，并入

111
00:04:54,010 --> 00:04:56,250
并入实体端的话

112
00:04:56,250 --> 00:04:58,510
可以并入到任意一端

113
00:04:58,510 --> 00:05:01,730
那假设我们并入到校长端

114
00:05:01,730 --> 00:05:06,030
首先学校和校长的属性记录下来

115
00:05:06,030 --> 00:05:08,660
然后归并的过程当中

116
00:05:08,660 --> 00:05:11,820
将另一端逐渐并入到诶

117
00:05:11,820 --> 00:05:12,980
我们当前这一端

118
00:05:12,980 --> 00:05:16,280
也就是呢，将校名并入到校长端吧

119
00:05:16,280 --> 00:05:20,110
并且加上联系自身的属性

120
00:05:20,110 --> 00:05:21,520
任职时间

121
00:05:21,520 --> 00:05:23,340
那新的关系模式

122
00:05:23,340 --> 00:05:26,250
它的主见不会发生变化

123
00:05:26,250 --> 00:05:29,480
同样可以并入到学校端诶

124
00:05:29,480 --> 00:05:31,400
并入另一端的主

125
00:05:31,400 --> 00:05:35,280
和我们联系的属性、任职时间

126
00:05:35,280 --> 00:05:39,240
这就是呢一对一它的转换过程

127
00:05:39,240 --> 00:05:41,810
那在这个转换的过程当中

128
00:05:41,810 --> 00:05:46,170
哎，一对一的联系是非常灵活的

129
00:05:46,740 --> 00:05:50,620
下面再来看呢，一对多联系的处理

130
00:05:50,620 --> 00:05:53,000
那假设一个客户啊

131
00:05:53,000 --> 00:05:55,850
他可以在银行存多个账户吧

132
00:05:55,850 --> 00:05:57,110
而一个账户

133
00:05:57,110 --> 00:06:00,410
一定是只有唯一的一个客户所拥有

134
00:06:00,410 --> 00:06:04,930
那他们之间呢，会有开户时间的属性

135
00:06:04,930 --> 00:06:07,750
接下来先看第一种

136
00:06:07,750 --> 00:06:09,950
实体单独转换

137
00:06:09,950 --> 00:06:10,350
诶

138
00:06:10,350 --> 00:06:14,560
客户相应的客户号、身份证号、地址、联系电话

139
00:06:14,560 --> 00:06:18,640
账户相应的属性、账户号和余额

140
00:06:18,640 --> 00:06:21,440
那把他的主见标注出来

141
00:06:21,440 --> 00:06:23,340
第一种转换方式

142
00:06:23,340 --> 00:06:27,290
将存款者关系单独转换

143
00:06:27,290 --> 00:06:29,890
并入两端组件

144
00:06:30,570 --> 00:06:32,420
并入之后

145
00:06:32,420 --> 00:06:36,470
除了客户身份证号、账户号这两个组件

146
00:06:36,470 --> 00:06:40,430
还有联系自身的属性、开户时间吧

147
00:06:40,430 --> 00:06:42,110
那我们看一看，哎

148
00:06:42,110 --> 00:06:44,090
谁是新的主键呢

149
00:06:44,090 --> 00:06:47,100
唉，应该是账户号作为主键

150
00:06:47,100 --> 00:06:49,710
因为他的开户一个账户呢

151
00:06:49,710 --> 00:06:51,880
一个身份证号可以有多个账户

152
00:06:51,880 --> 00:06:55,730
所以只能根据账户号来进行区分

153
00:06:55,730 --> 00:06:58,910
身份证号是重复记录的

154
00:06:59,140 --> 00:07:02,420
那接下来还有归并的方式吧

155
00:07:02,420 --> 00:07:07,020
归并的方式注意只能并入多端

156
00:07:07,340 --> 00:07:10,100
为什么只能并入多端啊

157
00:07:10,100 --> 00:07:12,980
那假设我们一个客户，哎

158
00:07:12,980 --> 00:07:15,540
假设我们银行现在比较可怜

159
00:07:15,540 --> 00:07:16,780
只有一个客户

160
00:07:16,780 --> 00:07:20,510
那我们记录001这个客户的相应信息

161
00:07:20,510 --> 00:07:21,770
记录之后

162
00:07:21,770 --> 00:07:24,730
如果说将账户信息

163
00:07:24,730 --> 00:07:26,190
哎，这个人比较有钱

164
00:07:26,190 --> 00:07:28,570
他开了100个账户

165
00:07:30,000 --> 00:07:35,310
如果说我们将账户信息并入到客户端

166
00:07:35,310 --> 00:07:39,540
那这一个客户的100条记录全部要重复

167
00:07:39,540 --> 00:07:40,630
来并入吧

168
00:07:40,630 --> 00:07:42,790
那这种情况相对来说

169
00:07:42,790 --> 00:07:45,900
如果是客户并入到账户端

170
00:07:45,900 --> 00:07:49,300
我们只需要每一个账户位置，诶

171
00:07:49,300 --> 00:07:53,870
相应地添加一个相应的身份证号就可以了吧

172
00:07:53,870 --> 00:07:55,390
所以我们会发现

173
00:07:55,390 --> 00:07:57,050
并入多端才是呢

174
00:07:57,050 --> 00:07:59,290
最合适的处理方法

175
00:07:59,290 --> 00:08:02,540
那么并入多端我们会发现呢

176
00:08:02,540 --> 00:08:05,240
客户相应的属性不变

177
00:08:05,240 --> 00:08:09,100
那账户端在每一条记录后面

178
00:08:09,100 --> 00:08:13,380
新增了一个相应的客户身份证号吧

179
00:08:13,380 --> 00:08:16,230
那对于这一个而言的话

180
00:08:16,230 --> 00:08:18,710
诶，这个主见其实标错了

181
00:08:18,710 --> 00:08:23,430
我们呢，相应的这个主键啊，应该保持不变

182
00:08:23,430 --> 00:08:26,270
还是呢，账户号作为主键才对

183
00:08:26,270 --> 00:08:28,990
身份证号不能作为主键啊

184
00:08:29,020 --> 00:08:32,740
再来看一对多联系的归并

185
00:08:32,740 --> 00:08:34,780
对于一对多的联系

186
00:08:34,780 --> 00:08:37,730
首先呢，第一种转换方式

187
00:08:37,730 --> 00:08:42,470
将实体单独作为一个呢，关系模式

188
00:08:42,470 --> 00:08:44,690
那两个实体分别呢

189
00:08:44,690 --> 00:08:48,380
有客户和账户两个关系模式

190
00:08:48,380 --> 00:08:51,280
其次，它的联系可以呢

191
00:08:51,280 --> 00:08:54,150
独立转换为一个关系模式

192
00:08:54,150 --> 00:08:55,760
那这个过程当中

193
00:08:55,760 --> 00:08:58,000
我们会看到客户的属性

194
00:08:58,000 --> 00:09:02,610
有客户名、身份证号、地址以及联系电话

195
00:09:02,610 --> 00:09:04,020
一般而言

196
00:09:04,020 --> 00:09:06,960
如果有身份证号存在的话

197
00:09:06,960 --> 00:09:10,610
我们是不需要用客户名作为主见的

198
00:09:10,610 --> 00:09:11,550
呃，我们呢

199
00:09:11,550 --> 00:09:14,270
可能会存在重名的问题啊

200
00:09:14,270 --> 00:09:17,920
所以大家在看到记录人员信息的时候

201
00:09:17,920 --> 00:09:20,500
一般会有相应的人员编号

202
00:09:20,500 --> 00:09:23,010
比如说呢，学号、员工号，诶

203
00:09:23,010 --> 00:09:25,250
或者呢，身份证号作为主件

204
00:09:25,250 --> 00:09:28,110
一般呢，会避免用我们的姓名

205
00:09:28,110 --> 00:09:30,810
当然啊，真的没有编号的话

206
00:09:30,810 --> 00:09:33,950
那我们只能呢，选择姓名做主线了

207
00:09:33,950 --> 00:09:38,260
那这里的话，用身份证号做主键就可以了

208
00:09:38,260 --> 00:09:41,260
那账户它包含的属性

209
00:09:41,260 --> 00:09:44,670
我们看到呢，有账户号和余额

210
00:09:44,670 --> 00:09:46,420
谁是主键呢

211
00:09:46,420 --> 00:09:50,180
哎，很明显，正负号是他的主键啊

212
00:09:50,180 --> 00:09:51,580
唯一不可重复

213
00:09:51,580 --> 00:09:53,330
并且呢，不能为空

214
00:09:53,330 --> 00:09:56,250
最后，关于呢，他的联系

215
00:09:56,250 --> 00:09:58,390
我们取了个名字叫做呢

216
00:09:58,390 --> 00:10:02,380
存款者相应的信息包含哪些呢

217
00:10:02,380 --> 00:10:06,750
我们说一对多联系转换成独立的关系模式

218
00:10:06,750 --> 00:10:11,480
同样需要将两端的实体归并进去

219
00:10:11,480 --> 00:10:12,620
怎么来归并呢

220
00:10:12,620 --> 00:10:18,430
将两端的主键归并到中间的联系当中

221
00:10:18,430 --> 00:10:24,180
从而呢，体现它是两端实体的一个联系

222
00:10:24,180 --> 00:10:27,630
所以我们呢，需要在存款者当

223
00:10:27,630 --> 00:10:30,940
增加客户的身份证号

224
00:10:30,940 --> 00:10:34,380
再增加呢，另一端的账户号

225
00:10:34,380 --> 00:10:35,940
增加进去之后

226
00:10:35,940 --> 00:10:39,240
还有呢，联系本身的开户时间

227
00:10:39,240 --> 00:10:41,710
也要呢，把它列出来

228
00:10:41,710 --> 00:10:46,960
那这是呢，一对多联系组成单独的关系模式

229
00:10:46,960 --> 00:10:49,530
并且在这个过程当中啊

230
00:10:49,530 --> 00:10:52,770
我们会发现一个客户的身份证号

231
00:10:52,770 --> 00:10:55,420
原本身份证号是唯一的吧

232
00:10:55,420 --> 00:10:59,300
但是它可以有多个账号

233
00:10:59,710 --> 00:11:01,910
在这种情况下

234
00:11:01,910 --> 00:11:04,630
身份证号还能不能做主键啊

235
00:11:04,630 --> 00:11:05,950
不能做主键呢

236
00:11:05,950 --> 00:11:07,440
因为他们有重复

237
00:11:07,440 --> 00:11:08,760
那也就是说呢

238
00:11:08,760 --> 00:11:13,380
一对多联系单独作为关系模式的时候

239
00:11:13,380 --> 00:11:18,390
它的主见是以多端主键来作为主键的

240
00:11:18,390 --> 00:11:22,660
所以以多端的账户号来作为主键

241
00:11:22,660 --> 00:11:24,710
那这是一对多联系

242
00:11:24,710 --> 00:11:27,490
有没有其他的转换方式呢

243
00:11:27,490 --> 00:11:30,010
有一对多联系

244
00:11:30,010 --> 00:11:34,020
它也是呢，可以归并到实体当中去的

245
00:11:34,020 --> 00:11:35,410
如何来归并呢

246
00:11:35,410 --> 00:11:38,090
我们在讲一对一的时候也有提到

247
00:11:38,090 --> 00:11:42,370
归并是将另一端实体的主件归并到呢

248
00:11:42,370 --> 00:11:43,850
唉，这一端来

249
00:11:43,850 --> 00:11:47,540
那一对一联系可以归并到任意一端

250
00:11:47,540 --> 00:11:49,620
因为大家是一样的吗

251
00:11:49,620 --> 00:11:53,150
但一对多联系就不是这样的

252
00:11:53,150 --> 00:11:57,040
它必须归并到多的一端来

253
00:11:57,040 --> 00:11:59,920
那我们先来看它的归并过程

254
00:11:59,920 --> 00:12:03,940
首先，实体客户呢，是不变的

255
00:12:03,940 --> 00:12:05,940
它包含客户名

256
00:12:05,940 --> 00:12:09,430
还有身份证号、地址和联系电话

257
00:12:09,430 --> 00:12:12,300
其中身份证号是他的主键

258
00:12:12,300 --> 00:12:17,910
那原本的账户信息包含的是账户号余额

259
00:12:17,910 --> 00:12:21,590
现在归并的方式是将另一端

260
00:12:21,590 --> 00:12:24,660
逐渐身份证号归并进去

261
00:12:24,660 --> 00:12:28,660
并且增加上联系自身的属性

262
00:12:28,660 --> 00:12:30,130
开户时间

263
00:12:30,130 --> 00:12:32,870
那这就形成了一个呢归并

264
00:12:32,870 --> 00:12:35,330
在归并的过程当中

265
00:12:35,330 --> 00:12:38,880
一对多归并他联系的主见啊

266
00:12:38,880 --> 00:12:42,670
关系模式的主见是不会发生变化的

267
00:12:42,670 --> 00:12:46,010
仍然呢是账户号作为主键

268
00:12:46,010 --> 00:12:48,970
那这是一对多它的归并

269
00:12:48,970 --> 00:12:52,490
注意呢，是只能归并到多的一端

270
00:12:52,490 --> 00:12:55,920
为什么不能归并到一这一段啊

271
00:12:55,920 --> 00:12:59,500
如果说我们有一个账

272
00:12:59,500 --> 00:13:01,180
有一个客户

273
00:13:01,780 --> 00:13:04,640
然后呢，名字叫张三

274
00:13:04,640 --> 00:13:07,590
然后呢，还有相应的地址等等

275
00:13:07,590 --> 00:13:10,360
那这是原本的客户信息

276
00:13:10,360 --> 00:13:13,530
那这个客户他开了十个账号

277
00:13:13,530 --> 00:13:17,340
那我们有呢， C 01、 C 02、 C 03

278
00:13:17,340 --> 00:13:19,840
直到 C 0时，哎

279
00:13:19,840 --> 00:13:21,160
直到 C 0时

280
00:13:21,160 --> 00:13:24,180
里面的余额都是呢，100块钱

281
00:13:24,260 --> 00:13:28,300
那我们在归并的过程当中啊

282
00:13:28,300 --> 00:13:31,660
如果是归并到多的一端

283
00:13:31,660 --> 00:13:32,660
那我们呢

284
00:13:32,660 --> 00:13:34,990
在这十条记录当中

285
00:13:34,990 --> 00:13:39,350
每一条记录后面增加一个身份证号

286
00:13:39,350 --> 00:13:41,240
111就可以了

287
00:13:41,240 --> 00:13:43,970
那这事呢，归并到多的一端吧

288
00:13:43,970 --> 00:13:48,600
如果说我们现在是归并到一这一端

289
00:13:48,600 --> 00:13:50,650
会形成什么情况呢

290
00:13:50,650 --> 00:13:54,050
原本只有一条记录的张三

291
00:13:54,050 --> 00:13:58,190
现在我们需要在里面分别记录

292
00:13:58,190 --> 00:14:00,100
十条账户记录

293
00:14:00,100 --> 00:14:01,020
进行归并

294
00:14:01,020 --> 00:14:04,740
那我们需要增加账户号 C 0102

295
00:14:04,740 --> 00:14:06,270
直到 C 10

296
00:14:06,270 --> 00:14:10,770
唉，将它原本一条信息变成了十条吧

297
00:14:10,770 --> 00:14:12,350
不仅如此

298
00:14:12,350 --> 00:14:15,960
我们还能不能用身份证号做主键呢

299
00:14:15,960 --> 00:14:16,780
不能了

300
00:14:16,780 --> 00:14:18,730
他重复记录了

301
00:14:18,730 --> 00:14:22,570
那所有的身份信息全部重复

302
00:14:22,570 --> 00:14:25,730
很显然，两种归并方式

303
00:14:25,730 --> 00:14:27,540
后者不可取

304
00:14:27,540 --> 00:14:28,680
所以我们啊

305
00:14:28,680 --> 00:14:30,750
归并的过程当中

306
00:14:30,750 --> 00:14:32,630
一对多联系

307
00:14:32,630 --> 00:14:34,090
它的处理呢

308
00:14:34,090 --> 00:14:38,480
可以将联系成立独立的关系模式

309
00:14:38,480 --> 00:14:40,520
也可以进行归并

310
00:14:40,520 --> 00:14:45,610
并且归并的方向一定呢，是并入多端

311
00:14:45,610 --> 00:14:48,440
这是一对多的处理方式

312
00:14:48,440 --> 00:14:51,750
那最后还有呢，多对多的处理

313
00:14:51,750 --> 00:14:53,520
首先我们看到呢

314
00:14:53,520 --> 00:14:55,120
这个多对多的实例

315
00:14:55,120 --> 00:14:57,680
我们的实体同样呢

316
00:14:57,680 --> 00:15:00,670
是单独作为一个关系模式

317
00:15:00,670 --> 00:15:04,140
学生有学号、姓名、性别、年龄

318
00:15:04,140 --> 00:15:06,160
主见呢是学号

319
00:15:06,160 --> 00:15:08,210
课程有课程号

320
00:15:08,210 --> 00:15:10,350
课程名和授课老师

321
00:15:10,350 --> 00:15:12,570
主见是课程号

322
00:15:12,570 --> 00:15:15,520
那它有几种转换方式呢

323
00:15:15,520 --> 00:15:17,600
首先第一种，联系

324
00:15:17,600 --> 00:15:20,230
作为独立的关系模式

325
00:15:20,230 --> 00:15:21,660
如何记录

326
00:15:21,660 --> 00:15:25,320
诶，同样需要加入两端组件

327
00:15:25,320 --> 00:15:29,390
从而呢，表示这是两个实体的联系吧

328
00:15:29,390 --> 00:15:34,640
所以将两个主键依次呢，进行归并

329
00:15:34,860 --> 00:15:36,760
那这个过程当中

330
00:15:36,760 --> 00:15:41,810
考试这个联系里面增加了两端组件

331
00:15:41,810 --> 00:15:45,200
再加上自身的属性成绩

332
00:15:45,200 --> 00:15:50,410
那这就是呢，多对多独立转换成关系模式

333
00:15:50,410 --> 00:15:52,620
那独立转换之后

334
00:15:52,620 --> 00:15:54,940
它的主见是什么呢

335
00:15:54,940 --> 00:15:56,940
注意，发生变化了

336
00:15:56,940 --> 00:15:59,340
对于多对多的联系啊

337
00:15:59,340 --> 00:16:02,890
他们在独立成立关系模式的时候

338
00:16:02,890 --> 00:16:09,390
联系的关系模式主键是两端组件的组合键

339
00:16:09,390 --> 00:16:13,660
也就是说，在这里单独看课程号

340
00:16:13,660 --> 00:16:15,900
是无法唯一标识元组的

341
00:16:15,900 --> 00:16:19,270
学号也无法唯一标识元组

342
00:16:19,270 --> 00:16:21,910
但二者组合的话

343
00:16:21,910 --> 00:16:24,970
是只有一条元组与之对应的

344
00:16:24,970 --> 00:16:28,250
所以只有组合键才能为一标识

345
00:16:28,250 --> 00:16:30,930
这就是呢，多对多联系

346
00:16:30,930 --> 00:16:36,910
那多对多能不能将联系归并到实体当中去呢

347
00:16:36,910 --> 00:16:39,100
那我们在这里同样，哎

348
00:16:39,100 --> 00:16:41,760
比如说有一个学号 S 01

349
00:16:41,760 --> 00:16:44,200
然后呢叫张三，唉

350
00:16:44,200 --> 00:16:46,550
有相应的一些信息

351
00:16:46,550 --> 00:16:48,720
那课程号当中

352
00:16:48,720 --> 00:16:52,500
哎，这个张三选呢，我们的 C 01

353
00:16:52,500 --> 00:16:54,060
比如说语文或者数学

354
00:16:54,060 --> 00:16:55,900
语文哎， C 0

355
00:16:55,900 --> 00:16:59,510
数学、 C 03英语等等

356
00:16:59,510 --> 00:17:01,850
那在这个过程当中

357
00:17:01,850 --> 00:17:04,510
如果进行归并的话

358
00:17:04,510 --> 00:17:09,109
我们会发现一个课程会有多少人选择啊

359
00:17:09,109 --> 00:17:11,130
可以有很多个人吧

360
00:17:11,130 --> 00:17:12,650
比如说100个人

361
00:17:12,650 --> 00:17:15,609
那一个学生他可以选多少个课

362
00:17:15,609 --> 00:17:18,910
哎，也许可以选十几20个课程吧

363
00:17:18,910 --> 00:17:20,190
那这种情况下

364
00:17:20,190 --> 00:17:25,940
我们发现无论归并到哪一端处理起来都是呢

365
00:17:25,940 --> 00:17:30,810
唉，将我们的整个表格变得非常的庞大吧

366
00:17:30,810 --> 00:17:34,570
所以这种归并的方式是不可取的

367
00:17:34,570 --> 00:17:38,170
多对多联系的转换只有一种方式

368
00:17:38,170 --> 00:17:41,930
也就是呢，形成单独的关系模式

369
00:17:41,930 --> 00:17:44,490
那我们总结来看一下

370
00:17:44,490 --> 00:17:48,330
对于一对一这种联系类型来说的话

371
00:17:48,330 --> 00:17:53,850
哎，我们的实体一定是成立独立的关系模式

372
00:17:53,850 --> 00:17:58,100
那联系可以形成独立的关系模式

373
00:17:58,100 --> 00:18:00,240
也可以进行归并吧

374
00:18:00,240 --> 00:18:02,090
它的归并的特点呢

375
00:18:02,090 --> 00:18:05,300
是可以并入任意一端

376
00:18:05,300 --> 00:18:06,880
那两者一样

377
00:18:06,880 --> 00:18:09,080
任意一端呢，都可

378
00:18:09,080 --> 00:18:11,490
实体有实体的主见

379
00:18:11,490 --> 00:18:15,890
联系呢，如果作为独立的关系模式

380
00:18:15,890 --> 00:18:18,170
应该是将两端主键

381
00:18:18,170 --> 00:18:21,100
加入到我们联系的关系模式吧

382
00:18:21,100 --> 00:18:22,300
加入之后

383
00:18:22,300 --> 00:18:24,740
这个新的关系模

384
00:18:24,740 --> 00:18:30,180
逐渐呢，从实体组件当中选一个就可以了

385
00:18:30,320 --> 00:18:32,800
如果进行归并的话

386
00:18:32,800 --> 00:18:35,840
将另一端的组件并入我们呢

387
00:18:35,840 --> 00:18:38,120
归并的这个关系模式

388
00:18:38,120 --> 00:18:42,670
唉，归并之后它的主见是不会发生变化的

389
00:18:42,670 --> 00:18:45,120
这是一对一联系

390
00:18:45,120 --> 00:18:47,870
一对多联系实体呢

391
00:18:47,870 --> 00:18:50,870
同样是单独的关系模式

392
00:18:50,870 --> 00:18:55,500
那联系可以形成独立的关系模式吧

393
00:18:55,500 --> 00:18:58,060
同样是加入两端的主键

394
00:18:58,060 --> 00:19:00,020
但加入之后

395
00:19:00,020 --> 00:19:03,370
它的主见是多端主键

396
00:19:03,370 --> 00:19:06,170
作为联系主见的并不是任意了

397
00:19:06,170 --> 00:19:09,110
然后呢，它也可以进行归并

398
00:19:09,110 --> 00:19:12,990
但它的归并是并入到多端

399
00:19:12,990 --> 00:19:15,030
并入多端之后呢

400
00:19:15,030 --> 00:19:18,850
多端的实体逐渐没有发生变化

401
00:19:18,850 --> 00:19:20,050
原本是什么

402
00:19:20,050 --> 00:19:20,850
现在呢

403
00:19:20,850 --> 00:19:22,530
还是什么

404
00:19:22,530 --> 00:19:24,420
多对多的联系

405
00:19:24,420 --> 00:19:28,590
它的实体一定是形成独立的关系模式

406
00:19:28,590 --> 00:19:33,540
联系呢，也一定是形成独立的关系模式

407
00:19:33,540 --> 00:19:35,040
能不能归并诶

408
00:19:35,040 --> 00:19:36,180
不能归并

409
00:19:36,180 --> 00:19:38,460
这是多对多的联系

410
00:19:38,460 --> 00:19:39,660
那也就是说

411
00:19:39,660 --> 00:19:42,100
对于一对一联系来说的话

412
00:19:42,100 --> 00:19:46,300
它有几种方式来处理我们的联系啊

413
00:19:46,300 --> 00:19:49,580
它的联系啊，可以有三种方式

414
00:19:50,410 --> 00:19:53,910
一种是形成独立的关系模式

415
00:19:53,910 --> 00:19:57,370
哎，一种是，哎，把我们并入到左侧

416
00:19:57,370 --> 00:19:59,410
或者呢，并入到右侧

417
00:19:59,410 --> 00:20:02,100
可以并入到任意一端

418
00:20:02,100 --> 00:20:03,460
那这就是呢

419
00:20:03,460 --> 00:20:05,460
诶，一对一联系的处理

420
00:20:05,460 --> 00:20:07,390
而对于一对多来说

421
00:20:07,390 --> 00:20:08,830
它有几种方式呢

422
00:20:08,830 --> 00:20:12,710
两种，一种是形成独立的关系模式

423
00:20:12,710 --> 00:20:15,220
一种呢，是并入多端

424
00:20:15,220 --> 00:20:19,150
而多对多它只有一种处理方式

425
00:20:19,150 --> 00:20:20,230
也就是呢

426
00:20:20,230 --> 00:20:22,780
形成独立的关系模式

427
00:20:22,780 --> 00:20:25,630
这是关于联系的归并

428
00:20:25,630 --> 00:20:28,850
目前在我们软件设计师考试当中呢

429
00:20:28,850 --> 00:20:30,490
碰到的归并处理

430
00:20:30,490 --> 00:20:34,240
还是呢，以这种二元联系为主

431
00:20:34,240 --> 00:20:37,770
三元联系归并呢，目前考的不多

432
00:20:37,770 --> 00:20:41,670
我们在这里呢，也就不再展开来介绍了

433
00:20:41,670 --> 00:20:43,810
那这种规定啊

434
00:20:43,810 --> 00:20:45,690
一方面在上午题呢

435
00:20:45,690 --> 00:20:48,040
可能出现在选择题

436
00:20:48,040 --> 00:20:51,670
其次呢，我们在下午的案例部分的时候

437
00:20:51,670 --> 00:20:53,750
碰到关系模

438
00:20:53,750 --> 00:20:54,830
补充的时候

439
00:20:54,830 --> 00:20:58,450
要考虑有没有联系的归并需要呢

440
00:20:58,450 --> 00:21:00,340
增加一些属性

441
00:21:00,340 --> 00:21:03,670
到缺失的关系模式填空当中去

442
00:21:03,670 --> 00:21:07,530
那这就是我们压图转关系模式呢

443
00:21:07,530 --> 00:21:09,990
在下午提的一个应用

444
00:21:09,990 --> 00:21:12,140
目前这一部分呢

445
00:21:12,140 --> 00:21:14,240
在上五题出现的不多

446
00:21:14,240 --> 00:21:18,990
我们在这里呢就不再列举相应的例题讲解了

447
00:21:18,990 --> 00:21:22,070
我们会在啊下午的案例部分呢

448
00:21:22,070 --> 00:21:25,490
放在案例的实例当中再去讲解
