1
00:00:00,000 --> 00:00:02,460
下面我们看到文件管理当中

2
00:00:02,460 --> 00:00:04,300
索引文件这一部分

3
00:00:04,300 --> 00:00:06,480
索引文件的结构呢

4
00:00:06,480 --> 00:00:10,420
其实就是将文件切割成小块之后啊

5
00:00:10,420 --> 00:00:12,960
放到相应的磁盘当中

6
00:00:12,960 --> 00:00:15,970
那我们记录呢，对应的磁盘块号

7
00:00:15,970 --> 00:00:19,580
就可以呢，通过磁盘块找到数据内容

8
00:00:19,580 --> 00:00:21,500
从而呢，去读取数据

9
00:00:21,500 --> 00:00:23,290
这就是呢，索引

10
00:00:23,290 --> 00:00:25,890
那我们对于索引啊

11
00:00:25,890 --> 00:00:28,850
在软件设计师的考察当中呢

12
00:00:28,850 --> 00:00:32,430
相对来说考的会更频繁一些

13
00:00:32,430 --> 00:00:34,350
它考察的内容啊

14
00:00:34,350 --> 00:00:38,220
有可能呢，会涉及到计算整个思路

15
00:00:38,220 --> 00:00:42,030
相对来说呢，会更加的复杂一些哦

16
00:00:42,030 --> 00:00:44,610
那他考察的分值可以呢

17
00:00:44,610 --> 00:00:47,250
考到一到两分的样子

18
00:00:47,250 --> 00:00:49,720
我们在索引文件当中啊

19
00:00:49,720 --> 00:00:52,700
要掌握如何根据呢

20
00:00:52,700 --> 00:00:55,220
一个相应的逻辑页号

21
00:00:55,220 --> 00:00:57,730
来判断它的索引方式

22
00:00:57,730 --> 00:00:59,050
还需要大家呢

23
00:00:59,050 --> 00:01:02,900
掌握在整个索引文件的体系当中

24
00:01:02,900 --> 00:01:08,450
如何来判断文件它索引的范围大小哦

25
00:01:08,450 --> 00:01:12,380
首先呢，我们来看一下索引的结构

26
00:01:12,380 --> 00:01:13,890
我们想一想啊

27
00:01:13,890 --> 00:01:15,350
一个物理块

28
00:01:15,350 --> 00:01:16,490
诶，它有多大

29
00:01:16,490 --> 00:01:18,630
而一个程序有多大呢

30
00:01:18,630 --> 00:01:21,690
相对来说差距还是比较大的

31
00:01:21,690 --> 00:01:24,030
那比如说一个60 G 的文件

32
00:01:24,030 --> 00:01:27,410
我们要单独开辟一个连续的空间放置

33
00:01:27,410 --> 00:01:28,500
基本上呢

34
00:01:28,500 --> 00:01:30,660
唉，很少去这么做

35
00:01:30,660 --> 00:01:33,240
那我们会把文件分散

36
00:01:33,240 --> 00:01:36,910
那分散之后如何来查找呢

37
00:01:36,910 --> 00:01:39,970
我们可以通过诶，0号逻辑页

38
00:01:39,970 --> 00:01:42,470
它的位置指向一号逻辑页

39
00:01:42,470 --> 00:01:45,050
从而呢，链式的去查看

40
00:01:45,050 --> 00:01:46,340
这是一种方式

41
00:01:46,340 --> 00:01:47,960
还有一种方式呢

42
00:01:47,960 --> 00:01:51,880
就是针对我们的0号液

43
00:01:51,880 --> 00:01:55,080
一号液直到呢 N 号液

44
00:01:56,400 --> 00:02:01,920
将三相应的逻辑页存放的物理地址

45
00:02:01,920 --> 00:02:03,760
给它能记录下来

46
00:02:03,760 --> 00:02:07,840
那我们如果记录相应的物理地址

47
00:02:07,840 --> 00:02:11,100
因为对于文件来说

48
00:02:11,100 --> 00:02:13,900
它逻辑上是连连续的

49
00:02:13,900 --> 00:02:16,420
那我们知道它是连续的

50
00:02:16,420 --> 00:02:18,780
还有必要记录零到 N 吗

51
00:02:18,780 --> 00:02:19,860
不需要了

52
00:02:19,860 --> 00:02:24,840
那我们最终呢，就成了记录相应的诶，地址编号

53
00:02:24,840 --> 00:02:27,250
按顺序来进行记录

54
00:02:27,250 --> 00:02:32,260
这样呢就可以呀找到所有的文件内容了

55
00:02:32,260 --> 00:02:35,720
那这个时候一个地址

56
00:02:35,720 --> 00:02:37,920
我们呢可以把索引啊

57
00:02:37,920 --> 00:02:40,900
跟地址作为呢同一个概念来理解

58
00:02:40,900 --> 00:02:44,330
因为是根据索引指向找到的

59
00:02:44,330 --> 00:02:45,990
还是呢地址

60
00:02:45,990 --> 00:02:49,900
那索引地址我们现在呢

61
00:02:49,900 --> 00:02:52,280
又是按物理块来放置的

62
00:02:52,280 --> 00:02:55,140
那我们按照物理块号

63
00:02:56,670 --> 00:03:00,440
所对应的其实就是它的地址吧

64
00:03:00,440 --> 00:03:01,820
那这个过程

65
00:03:01,820 --> 00:03:05,580
我们所对应的单元性的内容是什么

66
00:03:05,580 --> 00:03:07,320
还是一个快

67
00:03:07,320 --> 00:03:10,950
相对来说范围比字节还是大很多的啊

68
00:03:10,950 --> 00:03:13,200
那划分之后的话

69
00:03:13,200 --> 00:03:14,760
我们会发现诶

70
00:03:14,760 --> 00:03:18,260
这个物理块应该会跟文件大小分割的页

71
00:03:18,260 --> 00:03:21,090
需要呢保持一致才好去放置

72
00:03:21,090 --> 00:03:24,620
那我们在记录相应地址的时候

73
00:03:24,620 --> 00:03:25,240
可以呢

74
00:03:25,240 --> 00:03:30,200
单纯的把它理解为存放的就是脑物理块号

75
00:03:30,200 --> 00:03:32,700
记录的就是呢物理块号

76
00:03:32,700 --> 00:03:35,680
那物理块号要不要占空间呢

77
00:03:35,680 --> 00:03:38,000
其实也会占空间

78
00:03:38,000 --> 00:03:40,240
那假设一个物理块号

79
00:03:40,240 --> 00:03:41,620
它的长度啊

80
00:03:41,620 --> 00:03:44,530
用三个字节来表示

81
00:03:46,740 --> 00:03:50,180
如果是用三个字节来表示的话

82
00:03:50,180 --> 00:03:56,000
唉，我们1024页需要多少个物理块啊

83
00:03:56,000 --> 00:04:00,590
需要我们 A 1024×3 B 

84
00:04:00,590 --> 00:04:02,420
来进行存放吧

85
00:04:02,420 --> 00:04:04,730
那如果说把这个部分

86
00:04:04,730 --> 00:04:08,150
附到我们的文件后面的话

87
00:04:08,150 --> 00:04:12,330
其实文件的大小又莫名地扩大了

88
00:04:12,330 --> 00:04:15,000
所以啊，索引有一定的好处

89
00:04:15,000 --> 00:04:16,480
也有一定的坏处的

90
00:04:16,480 --> 00:04:17,720
那怎么办呢

91
00:04:17,720 --> 00:04:20,300
既然不能直接付

92
00:04:20,300 --> 00:04:24,040
我能不能把这一部分的地址

93
00:04:24,040 --> 00:04:26,650
还是存在物理块当中

94
00:04:26,650 --> 00:04:29,260
我只需要给一个线索

95
00:04:29,260 --> 00:04:32,620
来查找这个物理块就可以了

96
00:04:32,620 --> 00:04:35,770
这就是呢，索引表它的一个思想

97
00:04:35,770 --> 00:04:37,940
对于索引表来说

98
00:04:37,940 --> 00:04:40,520
在 UNIX 系统当中啊

99
00:04:40,520 --> 00:04:43,600
默认是13个节点的

100
00:04:50,020 --> 00:04:53,140
那这是一个 UNIX 系统当中啊

101
00:04:53,140 --> 00:04:55,110
索引文件的默认结构

102
00:04:55,110 --> 00:04:57,930
考试当中没有特殊说明的话

103
00:04:57,930 --> 00:05:00,730
以这种结构来计算就可以了

104
00:05:00,730 --> 00:05:03,550
那在这个索引表当中啊

105
00:05:03,550 --> 00:05:09,190
它分为直接索引、一级索引、二级索引和三级索引

106
00:05:09,190 --> 00:05:11,720
首先直接索引诶

107
00:05:11,720 --> 00:05:14,540
它有呢十个索引节点

108
00:05:14,540 --> 00:05:19,880
它每一个索引节点所指向的物理块诶

109
00:05:19,880 --> 00:05:22,190
比如说0号索引节点

110
00:05:22,190 --> 00:05:24,010
这是编号啊

111
00:05:24,010 --> 00:05:29,180
它的具体内容所存放的是121

112
00:05:29,180 --> 00:05:31,190
那也就是意味

113
00:05:31,190 --> 00:05:33,790
121号物理块

114
00:05:33,790 --> 00:05:37,050
是我们第一个存放的数据

115
00:05:37,050 --> 00:05:39,740
它所对应的其实就是呢

116
00:05:39,740 --> 00:05:42,580
0号逻辑页

117
00:05:45,740 --> 00:05:48,050
那在这个过程当中

118
00:05:48,050 --> 00:05:52,250
十个索引节点都是直接索引

119
00:05:52,250 --> 00:05:56,320
那零到9号的节点所对应的

120
00:05:56,320 --> 00:05:58,950
一共有十个物理块吧

121
00:05:58,950 --> 00:06:01,500
每一个物理块都是呢

122
00:06:01,500 --> 00:06:04,510
连续来存放逻辑页的

123
00:06:04,510 --> 00:06:07,930
所以这里对应的是零、一、二、三、四、五、六

124
00:06:07,930 --> 00:06:11,790
哎，最后一个是9号逻辑页

125
00:06:14,700 --> 00:06:17,930
这是直接索引的方式

126
00:06:17,930 --> 00:06:23,720
那每一个逻辑页对应假设是1 K 大小的话

127
00:06:23,720 --> 00:06:25,770
那一共十个页

128
00:06:25,770 --> 00:06:28,130
它索引的范围是多少啊

129
00:06:28,130 --> 00:06:30,990
就是10 K 大小

130
00:06:31,650 --> 00:06:35,350
这是我们直接索引的方式

131
00:06:35,350 --> 00:06:39,420
那直接索引的范围是有限的

132
00:06:39,420 --> 00:06:43,330
剩下的方式呢，相对来说就扩大了很多

133
00:06:43,330 --> 00:06:46,180
对于10号索引节点

134
00:06:46,180 --> 00:06:50,500
它所存放的是一级索引

135
00:06:50,500 --> 00:06:52,380
一级间接索引

136
00:06:52,380 --> 00:06:55,560
什么叫做一级间接索引呢

137
00:06:55,560 --> 00:06:57,520
对10号索引节点

138
00:06:57,520 --> 00:07:02,300
假设里面存放的是98号物理块

139
00:07:02,300 --> 00:07:06,280
注意，文件在逻辑上是连续的

140
00:07:06,280 --> 00:07:09,880
但索引文件的存储是可以分散的

141
00:07:09,880 --> 00:07:13,830
这里的物理块号是没有一定关系的

142
00:07:13,830 --> 00:07:17,170
先后诶，或者呢连续都是呢

143
00:07:17,170 --> 00:07:18,110
可以的啊

144
00:07:18,110 --> 00:07:22,080
那也就意味着98号物理块，诶

145
00:07:22,080 --> 00:07:23,310
就有一个物理块

146
00:07:23,310 --> 00:07:25,830
那假设所有的物理块

147
00:07:25,830 --> 00:07:28,930
无论是存数据还是呢存索

148
00:07:28,930 --> 00:07:30,960
都是1 KB 大小的话

149
00:07:30,960 --> 00:07:37,790
那98号物理块它存放的是一级索引表

150
00:07:37,790 --> 00:07:40,360
那这里是一个索引表

151
00:07:40,360 --> 00:07:42,460
索引表里存放的是什么呢

152
00:07:42,460 --> 00:07:46,920
就是索引1 KB 的大小

153
00:07:49,360 --> 00:07:54,230
每一个索引占据的大小是3 B 

154
00:07:54,230 --> 00:07:55,780
那这里哎

155
00:07:55,780 --> 00:07:59,220
可以放置多少个索引大小呢

156
00:07:59,220 --> 00:08:06,330
1024÷3=341点多

157
00:08:06,330 --> 00:08:07,950
诶，除不通啊

158
00:08:07,950 --> 00:08:10,240
这个地方储物通怎么样

159
00:08:10,240 --> 00:08:11,500
我们会发现

160
00:08:11,500 --> 00:08:15,500
放置340一个索引之后

161
00:08:15,500 --> 00:08:17,160
能不能再放哪

162
00:08:17,160 --> 00:08:18,360
放不下了

163
00:08:18,360 --> 00:08:23,600
所以它只对应了340一个索引编号

164
00:08:23,600 --> 00:08:27,730
那能够对应的物理盘有多少呢

165
00:08:27,730 --> 00:08:30,490
这340一个索引啊

166
00:08:30,490 --> 00:08:35,090
假设第一个位置存放的是76

167
00:08:35,570 --> 00:08:38,289
76号物理块

168
00:08:38,289 --> 00:08:41,210
诶，对应的才是真正的数据

169
00:08:41,210 --> 00:08:44,460
中间经过了一级索引表

170
00:08:44,460 --> 00:08:47,230
那76号物理块

171
00:08:47,230 --> 00:08:51,200
它所对应的逻辑页号是多少呢

172
00:08:51,200 --> 00:08:54,460
注意，逻辑页是顺序的

173
00:08:54,460 --> 00:08:56,980
所以0~9之后

174
00:08:56,980 --> 00:08:58,920
下一个逻辑页，哎

175
00:08:58,920 --> 00:09:02,360
应该是10号逻辑页

176
00:09:06,420 --> 00:09:12,050
那这个10号逻辑页是按顺序数下来的吧

177
00:09:12,050 --> 00:09:16,880
那整个页面一共存放了多少呢

178
00:09:16,880 --> 00:09:19,170
对于一级间接索引

179
00:09:19,170 --> 00:09:23,930
应该是341 KB 的界面吧

180
00:09:23,930 --> 00:09:24,630
页面吧

181
00:09:24,630 --> 00:09:26,630
这是它的数据页

182
00:09:26,630 --> 00:09:28,240
那大家想一想啊

183
00:09:28,240 --> 00:09:31,820
最下面一个 N 所对应的，诶

184
00:09:31,820 --> 00:09:33,880
逻辑页号应该是多少

185
00:09:33,880 --> 00:09:36,110
一级间接索

186
00:09:36,110 --> 00:09:38,430
最后对应的逻辑页号

187
00:09:38,430 --> 00:09:41,030
我们假设是 X 的话

188
00:09:41,030 --> 00:09:45,690
我们会发现 X 减10+1

189
00:09:45,690 --> 00:09:46,810
这是什么

190
00:09:46,810 --> 00:09:48,330
大地址编号

191
00:09:48,330 --> 00:09:52,860
减小地址编号加一是存储单元个数

192
00:09:52,860 --> 00:09:57,020
那这里其实就是我们逻辑页的个数吧

193
00:09:57,020 --> 00:10:02,100
一级间接索引有340一个页面

194
00:10:02,100 --> 00:10:05,340
那我们可以反向求出来

195
00:10:05,340 --> 00:10:09,660
X 就是等于350的

196
00:10:09,660 --> 00:10:11,590
所以在这里啊

197
00:10:11,590 --> 00:10:15,750
最后一个索引节点所对应的就是呢

198
00:10:15,750 --> 00:10:18,600
350号逻辑页

199
00:10:18,600 --> 00:10:21,030
那这个范围一共呢

200
00:10:21,030 --> 00:10:24,000
有340一个页面

201
00:10:24,000 --> 00:10:28,540
这就是呢，一级间接索引的范围

202
00:10:29,120 --> 00:10:32,120
如果现在问大家

203
00:10:32,120 --> 00:10:35,160
320号逻辑页放在哪儿

204
00:10:35,160 --> 00:10:36,140
那就是呢

205
00:10:36,140 --> 00:10:38,740
一级间接索引的方式

206
00:10:38,740 --> 00:10:43,850
要想找到这个索引音所对应的数据块

207
00:10:43,850 --> 00:10:45,340
我们需要呢，唉

208
00:10:45,340 --> 00:10:47,300
查一次磁盘

209
00:10:47,300 --> 00:10:48,600
找索引

210
00:10:48,600 --> 00:10:52,160
再查一次磁盘才是呢，找数据

211
00:10:52,160 --> 00:10:55,760
一级间接索引会访问两次磁盘

212
00:10:55,760 --> 00:10:58,720
直接间接索引只需要一次

213
00:10:58,720 --> 00:11:01,910
直接访问数据盘就可以了

214
00:11:01,910 --> 00:11:04,190
那这是直接间接索引，诶

215
00:11:04,190 --> 00:11:06,480
直接索引，一级间接索引

216
00:11:06,480 --> 00:11:10,390
下一个索引节点是二级间接索引呢

217
00:11:10,390 --> 00:11:12,910
那我们想一想，什么是二级啊

218
00:11:12,910 --> 00:11:16,880
中间经过了两次索引的跳转

219
00:11:16,880 --> 00:11:18,240
它首先呢

220
00:11:18,240 --> 00:11:20,400
11号节点的内容

221
00:11:20,400 --> 00:11:21,740
比如说呢，啊

222
00:11:21,740 --> 00:11:26,220
130这个物理块所存放的内容

223
00:11:26,220 --> 00:11:29,220
是一个二级索引表

224
00:11:29,220 --> 00:11:31,590
那这个二级间接索引表

225
00:11:31,590 --> 00:11:33,530
里面有多少个索引呢

226
00:11:33,530 --> 00:11:36,430
340一个索引节点吧

227
00:11:36,430 --> 00:11:39,770
那这340一个索引节点，诶

228
00:11:39,770 --> 00:11:43,270
所对应的仍然是索引

229
00:11:43,270 --> 00:11:46,070
那这里对应的是一级索引表了

230
00:11:46,070 --> 00:11:47,570
有多少个呢

231
00:11:47,570 --> 00:11:51,230
唉，每一个盘可以放340一个

232
00:11:51,230 --> 00:11:54,880
对应了340一个盘

233
00:11:54,880 --> 00:12:00,090
所以是341×341

234
00:12:00,090 --> 00:12:04,230
这是二级简接索引能够访问的

235
00:12:04,230 --> 00:12:07,900
A 能够索引的最大文件长度

236
00:12:07,900 --> 00:12:08,920
同理

237
00:12:08,920 --> 00:12:14,540
三级间接索引就是341的三次方了

238
00:12:14,540 --> 00:12:19,320
那这就是啊，我们讲到的索引文件结构

239
00:12:19,320 --> 00:12:22,330
在这个文件结构当中啊

240
00:12:22,330 --> 00:12:27,630
我们要知道它的逻辑页号是连续的

241
00:12:27,630 --> 00:12:33,160
而它的物理块号是可以随机分散的

242
00:12:33,160 --> 00:12:36,700
那每一个索引节点可以呢

243
00:12:36,700 --> 00:12:40,180
把它理解为我们的磁盘块号

244
00:12:40,180 --> 00:12:42,050
我们需要掌握到

245
00:12:42,050 --> 00:12:46,050
首先呢，对应的逻辑页号

246
00:12:48,640 --> 00:12:53,040
那它所对应的哎索引方式

247
00:12:55,860 --> 00:12:58,180
这个索引方式可以

248
00:12:58,180 --> 00:13:00,000
直接索引、一级间接索引

249
00:13:00,000 --> 00:13:02,520
二级间接索引、三级间接索引吧

250
00:13:02,520 --> 00:13:06,350
那索引方式找到了就能够呢

251
00:13:06,350 --> 00:13:10,650
理解他访问磁盘的次数

252
00:13:16,000 --> 00:13:17,780
在这里啊

253
00:13:17,780 --> 00:13:21,360
索引诶，存放索引的叫索引盘

254
00:13:21,360 --> 00:13:23,680
存放数据的叫数据盘

255
00:13:23,680 --> 00:13:26,490
索引盘和数据盘都是呢

256
00:13:26,490 --> 00:13:28,250
需要访问磁盘的

257
00:13:28,250 --> 00:13:31,890
所以啊，这个呢，可以理解访问磁盘的次数

258
00:13:31,890 --> 00:13:33,280
直接索引一次

259
00:13:33,280 --> 00:13:34,600
一级索引两次

260
00:13:34,600 --> 00:13:36,300
二级索引三次

261
00:13:36,300 --> 00:13:36,720
诶

262
00:13:36,720 --> 00:13:39,220
我们的三级索引的话

263
00:13:39,220 --> 00:13:40,400
诶，就有呢啊

264
00:13:40,400 --> 00:13:42,140
二级索引的话有三次

265
00:13:42,140 --> 00:13:44,640
三级索引的话就会呢，有四次

266
00:13:44,640 --> 00:13:46,790
这是关于他的访问次数

267
00:13:46,790 --> 00:13:51,020
其次，我们还要掌握相应的索引方式啊

268
00:13:51,020 --> 00:13:55,120
能够索引的最大文件长度

269
00:13:57,640 --> 00:14:01,660
这个最大文件长度可以呢

270
00:14:01,660 --> 00:14:05,540
细化到每一种索引方式的长度

271
00:14:05,540 --> 00:14:06,870
也可以呢

272
00:14:06,870 --> 00:14:10,840
粗略概括到整个索引文件的长度

273
00:14:10,840 --> 00:14:14,990
那把呢，相应的文件长度累加起来就可以了

274
00:14:14,990 --> 00:14:17,560
那这就是呢，索引文件结

275
00:14:17,560 --> 00:14:20,140
需要大家掌握的内容

276
00:14:20,140 --> 00:14:26,290
那如果说根据它的地址项长度和磁盘大小

277
00:14:26,290 --> 00:14:28,220
求出索引

278
00:14:28,220 --> 00:14:30,680
它里面索引个数之后啊

279
00:14:30,680 --> 00:14:36,750
我们可以通过个数求出 A 相应的地址编号

280
00:14:36,750 --> 00:14:41,410
因为最小编号一般根据上一级可以推算

281
00:14:41,410 --> 00:14:44,560
而最大编号呢，对于很多同学来说

282
00:14:44,560 --> 00:14:46,840
并不是一下子就能想到的

283
00:14:46,840 --> 00:14:49,560
可以根据个数来推算

284
00:14:49,560 --> 00:14:52,120
那这些呢，大家可以回去之后啊

285
00:14:52,120 --> 00:14:53,920
再来算一算

286
00:14:54,200 --> 00:14:58,500
下面呢，我们来看一下对于索引文件

287
00:14:58,500 --> 00:15:02,530
在我们软件设计师考试当中的考察形式

288
00:15:02,530 --> 00:15:03,360
首先

289
00:15:03,360 --> 00:15:08,360
某文件系统采用了索引节点来管理某磁盘

290
00:15:08,360 --> 00:15:12,380
它的索引块和数据块大小

291
00:15:12,380 --> 00:15:14,800
都是能1 KB 字节的

292
00:15:14,800 --> 00:15:18,300
哎，在这里其实写1 KB 或者1 K 字节都可以了

293
00:15:18,300 --> 00:15:19,300
1 KB 的话

294
00:15:19,300 --> 00:15:22,470
A 1 KB 字节有一些叙述重复了

295
00:15:22,470 --> 00:15:24,150
可以理解就行

296
00:15:24,150 --> 00:15:29,860
那每一个文件索引节点有八个地址项

297
00:15:29,860 --> 00:15:31,710
我们的文件啊

298
00:15:31,710 --> 00:15:35,100
后面可以呢绑定一个索引表

299
00:15:35,100 --> 00:15:37,630
那当文件存储之后呢

300
00:15:37,630 --> 00:15:40,340
这个索引表应该是自动生成的

301
00:15:40,340 --> 00:15:42,150
有八个地址项

302
00:15:42,150 --> 00:15:45,490
跟我们13个地址项有一些变化了啊

303
00:15:45,490 --> 00:15:49,710
每一个地址项大小是四个字节

304
00:15:49,710 --> 00:15:52,250
那看到这里想到什么

305
00:15:52,250 --> 00:15:58,000
每一个索引盘应该有1024÷4

306
00:15:58,000 --> 00:16:01,270
256个索引项

307
00:16:01,270 --> 00:16:04,200
这是索引盘里面的内容

308
00:16:04,200 --> 00:16:09,310
假设0~4采用直接地址索引

309
00:16:09,310 --> 00:16:14,750
5号和6号采用一级间接索引

310
00:16:14,750 --> 00:16:17,630
7号采用二级间接索引

311
00:16:17,630 --> 00:16:19,160
不需要三级了

312
00:16:19,160 --> 00:16:24,950
那若用户要访问逻辑块号四和五系统

313
00:16:24,950 --> 00:16:27,730
应该采用什么样的方式呢

314
00:16:27,730 --> 00:16:30,230
哎，我们简单画一下

315
00:16:31,000 --> 00:16:33,360
这是一个数组

316
00:16:42,400 --> 00:16:45,820
那对于这八个索引盘来看的话

317
00:16:45,820 --> 00:16:48,150
这八个索引节点来看的话

318
00:16:48,150 --> 00:16:53,170
前面的零、一、二、三、四是直接索引方式吧

319
00:16:53,170 --> 00:16:56,980
直接索引方式索引0号哎

320
00:16:56,980 --> 00:17:03,310
逻辑页、一号逻辑页、2号逻辑页、3号逻辑

321
00:17:03,310 --> 00:17:05,550
以及4号逻辑页吧

322
00:17:05,550 --> 00:17:07,150
也就是说哎

323
00:17:07,150 --> 00:17:10,220
我们的五个地址页面

324
00:17:10,220 --> 00:17:12,720
是由哪直接地址索引的

325
00:17:12,720 --> 00:17:17,859
这五个页面对应的逻辑块号分别是0~4

326
00:17:17,859 --> 00:17:22,520
所以4号逻辑页是直接地址访问的

327
00:17:22,520 --> 00:17:25,170
那5号逻辑页是不是呢

328
00:17:25,170 --> 00:17:30,630
不是，逻辑页号一定是从零开始编码的

329
00:17:30,630 --> 00:17:35,090
那逻辑业务是下一个级别了吧

330
00:17:35,090 --> 00:17:36,960
直接索引方式

331
00:17:36,960 --> 00:17:41,410
下一个级别应该是一级间接索引

332
00:17:41,410 --> 00:17:46,930
所以它所对应的是一级间接索引方式

333
00:17:47,470 --> 00:17:50,510
注意边界值的区分

334
00:17:50,510 --> 00:17:54,030
逻辑页号从零开始编号

335
00:17:54,030 --> 00:17:58,530
那整个文件系统可表示的单个文件

336
00:17:58,530 --> 00:18:00,180
最大是多少呢

337
00:18:00,180 --> 00:18:04,400
直接索引可以存放五个逻辑页面

338
00:18:04,400 --> 00:18:06,760
大小是5 KB 

339
00:18:07,600 --> 00:18:10,020
一级间接索引

340
00:18:10,020 --> 00:18:14,670
它所对应的是256个索引编号

341
00:18:14,670 --> 00:18:19,280
那分别对应了256个页面吧

342
00:18:19,280 --> 00:18:22,820
所以是256 KB 

343
00:18:22,920 --> 00:18:25,780
一级间接索引有几个

344
00:18:25,780 --> 00:18:28,100
有两个索引呢

345
00:18:28,100 --> 00:18:32,590
哎，下一个节点还有一个256 KB 吧

346
00:18:32,590 --> 00:18:36,620
最后对于最后一个7号节点

347
00:18:36,620 --> 00:18:40,170
它所对应的是二级间接索引

348
00:18:40,170 --> 00:18:41,200
也就是说

349
00:18:41,200 --> 00:18:46,050
7号节点位置有256个索引块

350
00:18:46,050 --> 00:18:48,730
这256个索引块

351
00:18:48,730 --> 00:18:51,730
每一个索引块又有256个

352
00:18:51,730 --> 00:18:53,220
地址多少个

353
00:18:53,220 --> 00:18:54,080
256

354
00:18:54,080 --> 00:18:55,900
256个

355
00:18:55,900 --> 00:18:56,680
25

356
00:18:56,680 --> 00:18:59,330
其实是256平方吧

357
00:18:59,330 --> 00:19:02,320
256的平

358
00:19:02,320 --> 00:19:06,940
它是等于65536的

359
00:19:09,600 --> 00:19:14,940
那对于整个文件能够索引的大

360
00:19:14,940 --> 00:19:15,620
就是呢

361
00:19:15,620 --> 00:19:20,980
五、加上256、256、65536

362
00:19:20,980 --> 00:19:23,850
所以应该选择 D 选

363
00:19:23,850 --> 00:19:27,240
66053 KB 大小

364
00:19:27,240 --> 00:19:30,160
那就是呢整个文件诶

365
00:19:30,160 --> 00:19:32,300
它能够啊整个索引

366
00:19:32,300 --> 00:19:37,200
索引表能够呢表示的单个文件的最大长度

367
00:19:37,200 --> 00:19:40,660
如果问到各个级别的文件长度呢

368
00:19:40,660 --> 00:19:43,100
大家也要能够计算

369
00:19:43,100 --> 00:19:44,360
那这就是呢

370
00:19:44,360 --> 00:19:47,500
索引文件需要大家呢掌握的内容
