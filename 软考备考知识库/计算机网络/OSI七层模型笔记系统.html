<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSI‰∏ÉÂ±ÇÊ®°ÂûãÊô∫ËÉΩÁ¨îËÆ∞Á≥ªÁªü</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
            min-height: 100vh;
        }
        
        .main-content {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .notes-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: sticky;
            top: 20px;
            height: calc(100vh - 40px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .osi-layer {
            margin-bottom: 20px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .osi-layer:hover {
            border-color: #007bff;
            box-shadow: 0 5px 15px rgba(0,123,255,0.2);
        }
        
        .layer-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            color: white;
            position: relative;
        }
        
        .layer-7 .layer-header { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .layer-6 .layer-header { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .layer-5 .layer-header { background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); }
        .layer-4 .layer-header { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .layer-3 .layer-header { background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); }
        .layer-2 .layer-header { background: linear-gradient(135deg, #81ecec 0%, #00b894 100%); }
        .layer-1 .layer-header { background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%); }
        
        .layer-content {
            padding: 20px;
            background: #f8f9fa;
            display: none;
        }
        
        .layer-content.active {
            display: block;
        }
        
        .layer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .info-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        
        .info-card h4 {
            color: #007bff;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .info-card p {
            font-weight: bold;
            color: #333;
        }
        
        .note-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .note-button:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        
        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .notes-header h2 {
            color: #333;
            font-size: 1.5em;
        }
        
        .notes-controls {
            display: flex;
            gap: 10px;
        }
        
        .control-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }
        
        .save-btn {
            background: #28a745;
            color: white;
        }
        
        .export-btn {
            background: #17a2b8;
            color: white;
        }
        
        .clear-btn {
            background: #dc3545;
            color: white;
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .notes-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .note-tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .note-tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        
        .note-tab.active {
            border-bottom-color: #007bff;
            color: #007bff;
            font-weight: bold;
        }
        
        .note-tab:hover {
            background: #f8f9fa;
        }
        
        .note-content {
            flex: 1;
            display: none;
        }
        
        .note-content.active {
            display: flex;
            flex-direction: column;
        }
        
        .note-editor {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .note-editor:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }
        
        .note-stats {
            margin-top: 10px;
            font-size: 0.8em;
            color: #666;
            display: flex;
            justify-content: space-between;
        }
        
        .quick-notes {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .quick-notes h4 {
            color: #856404;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .quick-note-item {
            background: white;
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-note-item:hover {
            background: #f8f9fa;
            transform: translateX(5px);
        }
        
        .charts-section {
            margin: 30px 0;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .chart-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .chart-card img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
        }
        
        .chart-card h3 {
            margin-bottom: 10px;
            color: #333;
            font-size: 1.1em;
        }
        
        .chart-card p {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
        }
        
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .notes-panel {
                position: static;
                height: auto;
                order: -1;
            }
        }
        
        .floating-tools {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        
        .tool-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .tool-btn:hover {
            transform: scale(1.1);
        }
        
        .bookmark-btn { background: #ffc107; }
        .highlight-btn { background: #fd7e14; }
        .search-btn { background: #6f42c1; }
    </style>
</head>
<body>
    <div class="floating-tools">
        <button class="tool-btn bookmark-btn" onclick="addBookmark()" title="Ê∑ªÂä†‰π¶Á≠æ">üìå</button>
        <button class="tool-btn highlight-btn" onclick="highlightText()" title="È´ò‰∫ÆÊñáÊú¨">üñçÔ∏è</button>
        <button class="tool-btn search-btn" onclick="searchNotes()" title="ÊêúÁ¥¢Á¨îËÆ∞">üîç</button>
    </div>

    <div class="container">
        <div class="main-content">
            <div class="header">
                <h1>üìö OSI‰∏ÉÂ±ÇÊ®°ÂûãÊô∫ËÉΩÁ¨îËÆ∞Á≥ªÁªü</h1>
                <p>ËæπÂ≠¶ËæπËÆ∞ÔºåÊûÑÂª∫‰Ω†ÁöÑÁΩëÁªúÁü•ËØÜ‰ΩìÁ≥ª</p>
            </div>

            <div class="osi-layer layer-7">
                <div class="layer-header" onclick="toggleLayer(7)">
                    <span>üñ•Ô∏è Á¨¨7Â±ÇÔºöÂ∫îÁî®Â±Ç (Application Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-7-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>Êï∞ÊçÆ (Data)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>Áî®Êà∑Êé•Âè£„ÄÅÁΩëÁªúÊúçÂä°</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂçèËÆÆÁ§∫‰æã</h4>
                            <p>HTTP, FTP, SMTP, DNS</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>ÂçèËÆÆÂäüËÉΩ„ÄÅÁ´ØÂè£Âè∑</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(7, 'Â∫îÁî®Â±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-6">
                <div class="layer-header" onclick="toggleLayer(6)">
                    <span>üîÑ Á¨¨6Â±ÇÔºöË°®Á§∫Â±Ç (Presentation Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-6-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>Êï∞ÊçÆ (Data)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>Ê†ºÂºèËΩ¨Êç¢„ÄÅÂä†ÂØÜÂéãÁº©</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂçèËÆÆÁ§∫‰æã</h4>
                            <p>SSL/TLS, JPEG, MPEG</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>Êï∞ÊçÆÊ†ºÂºè„ÄÅÂä†ÂØÜÊñπÂºè</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(6, 'Ë°®Á§∫Â±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-5">
                <div class="layer-header" onclick="toggleLayer(5)">
                    <span>üîó Á¨¨5Â±ÇÔºö‰ºöËØùÂ±Ç (Session Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-5-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>Êï∞ÊçÆ (Data)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>‰ºöËØùÁÆ°ÁêÜ„ÄÅÂêåÊ≠•ÊéßÂà∂</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂçèËÆÆÁ§∫‰æã</h4>
                            <p>NetBIOS, RPC, SQL</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>‰ºöËØùÂª∫Á´ã„ÄÅÁªàÊ≠¢ËøáÁ®ã</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(5, '‰ºöËØùÂ±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-4">
                <div class="layer-header" onclick="toggleLayer(4)">
                    <span>üì¶ Á¨¨4Â±ÇÔºö‰º†ËæìÂ±Ç (Transport Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-4-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>ÊÆµ (Segment)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>Á´ØÂà∞Á´Ø‰º†Ëæì„ÄÅÊµÅÊéß</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂçèËÆÆÁ§∫‰æã</h4>
                            <p>TCP, UDP</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>TCP/UDPÂå∫Âà´„ÄÅÁ´ØÂè£Âè∑</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(4, '‰º†ËæìÂ±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-3">
                <div class="layer-header" onclick="toggleLayer(3)">
                    <span>üó∫Ô∏è Á¨¨3Â±ÇÔºöÁΩëÁªúÂ±Ç (Network Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-3-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>ÂåÖ (Packet)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>Ë∑ØÁî±ÂØªÂùÄ„ÄÅÂåÖËΩ¨Âèë</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂÖ≥ÈîÆËÆæÂ§á</h4>
                            <p>Ë∑ØÁî±Âô® (Router)</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>IPÂú∞ÂùÄ„ÄÅË∑ØÁî±ÁÆóÊ≥ï</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(3, 'ÁΩëÁªúÂ±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-2">
                <div class="layer-header" onclick="toggleLayer(2)">
                    <span>üîó Á¨¨2Â±ÇÔºöÊï∞ÊçÆÈìæË∑ØÂ±Ç (Data Link Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-2-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>Â∏ß (Frame)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>Â∏ß‰º†Ëæì„ÄÅÈîôËØØÊ£ÄÊµã</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂÖ≥ÈîÆËÆæÂ§á</h4>
                            <p>‰∫§Êç¢Êú∫ (Switch)</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>MACÂú∞ÂùÄ„ÄÅ‰ª•Â§™ÁΩë</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(2, 'Êï∞ÊçÆÈìæË∑ØÂ±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="osi-layer layer-1">
                <div class="layer-header" onclick="toggleLayer(1)">
                    <span>‚ö° Á¨¨1Â±ÇÔºöÁâ©ÁêÜÂ±Ç (Physical Layer)</span>
                    <span>‚ñº</span>
                </div>
                <div class="layer-content" id="layer-1-content">
                    <div class="layer-info">
                        <div class="info-card">
                            <h4>‰º†ËæìÂçï‰Ωç</h4>
                            <p>ÊØîÁâπÊµÅ (Bit Stream)</p>
                        </div>
                        <div class="info-card">
                            <h4>‰∏ªË¶ÅÂäüËÉΩ</h4>
                            <p>‰ø°Âè∑‰º†Ëæì„ÄÅÊé•Âè£ÂÆö‰πâ</p>
                        </div>
                        <div class="info-card">
                            <h4>ÂÖ≥ÈîÆËÆæÂ§á</h4>
                            <p>ÈõÜÁ∫øÂô® (Hub)</p>
                        </div>
                        <div class="info-card">
                            <h4>ËÄÉËØïÈáçÁÇπ</h4>
                            <p>‰º†Ëæì‰ªãË¥®„ÄÅ‰ø°Âè∑ÁºñÁ†Å</p>
                        </div>
                    </div>
                    <button class="note-button" onclick="addLayerNote(1, 'Áâ©ÁêÜÂ±Ç')">üìù Ê∑ªÂä†Á¨îËÆ∞</button>
                </div>
            </div>

            <div class="charts-section">
                <h2>üìä Êï∞ÊçÆÂèØËßÜÂåñÂàÜÊûê</h2>
                <div class="chart-grid">
                    <div class="chart-card">
                        <h3>ÂêÑÂ±ÇÂ§çÊùÇÂ∫¶ÂàÜÊûê</h3>
                        <img src="https://mdn.alipayobjects.com/one_clip/afts/img/1XyrT7yrm1kAAAAAQ6AAAAgAoEACAQFr/original" alt="Â§çÊùÇÂ∫¶ÂàÜÊûê">
                        <p>Á°¨‰ª∂Â±ÇÂ§çÊùÇÂ∫¶ÈÄíÂ¢ûÔºåËΩØ‰ª∂Â±Ç‰º†ËæìÂ±ÇËææÂà∞Â≥∞ÂÄº</p>
                    </div>
                    <div class="chart-card">
                        <h3>ËÆæÂ§áËÉΩÂäõÂØπÊØî</h3>
                        <img src="https://mdn.alipayobjects.com/one_clip/afts/img/Mo5PQoEmGywAAAAARtAAAAgAoEACAQFr/original" alt="ËÆæÂ§áËÉΩÂäõ">
                        <p>Ë∑ØÁî±Âô®ÂäüËÉΩÊúÄÂÖ®Èù¢Ôºå‰∫§Êç¢Êú∫‰∏ìÊ≥®Âú∞ÂùÄÂ≠¶‰π†</p>
                    </div>
                    <div class="chart-card">
                        <h3>ËÄÉÁÇπÊùÉÈáçÂàÜÂ∏É</h3>
                        <img src="https://mdn.alipayobjects.com/one_clip/afts/img/nHnHRIagcDAAAAAARdAAAAgAoEACAQFr/original" alt="ËÄÉÁÇπÂàÜÂ∏É">
                        <p>ËÆæÂ§áÂàÜÂ±ÇÂØπÂ∫îÂç†35%ÔºåÊòØÂ§áËÄÉÈáçÁÇπ</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="notes-panel">
            <div class="notes-header">
                <h2>üìù ÊàëÁöÑÁ¨îËÆ∞</h2>
                <div class="notes-controls">
                    <button class="control-btn save-btn" onclick="saveNotes()">üíæ ‰øùÂ≠ò</button>
                    <button class="control-btn export-btn" onclick="exportNotes()">üì§ ÂØºÂá∫</button>
                    <button class="control-btn clear-btn" onclick="clearNotes()">üóëÔ∏è Ê∏ÖÁ©∫</button>
                </div>
            </div>

            <div class="quick-notes">
                <h4>üí° Âø´ÈÄüÁ¨îËÆ∞Ê®°Êùø</h4>
                <div class="quick-note-item" onclick="insertTemplate('ÈáçÁÇπ')">‚≠ê ÈáçÁÇπÊ†áËÆ∞</div>
                <div class="quick-note-item" onclick="insertTemplate('ÁñëÈóÆ')">‚ùì ÁñëÈóÆËÆ∞ÂΩï</div>
                <div class="quick-note-item" onclick="insertTemplate('ÊÄªÁªì')">üìã Áü•ËØÜÊÄªÁªì</div>
                <div class="quick-note-item" onclick="insertTemplate('ËÄÉÁÇπ')">üéØ ËÄÉËØïË¶ÅÁÇπ</div>
            </div>

            <div class="note-tabs">
                <div class="note-tab active" onclick="switchTab('general')">üìù ÈÄöÁî®Á¨îËÆ∞</div>
                <div class="note-tab" onclick="switchTab('exam')">üéØ ËÄÉËØïÈáçÁÇπ</div>
                <div class="note-tab" onclick="switchTab('review')">üìö Â§ç‰π†ËÆ°Âàí</div>
            </div>

            <div class="notes-area">
                <div class="note-content active" id="general-notes">
                    <textarea class="note-editor" id="general-editor" placeholder="Âú®ËøôÈáåËÆ∞ÂΩï‰Ω†ÁöÑÂ≠¶‰π†Á¨îËÆ∞...

üìù Á¨îËÆ∞Âª∫ËÆÆÔºö
‚Ä¢ ËÆ∞ÂΩïÊØèÂ±ÇÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ
‚Ä¢ Ê†áÊ≥®ÈáçË¶ÅÁöÑËÆæÂ§áÂíåÂçèËÆÆ
‚Ä¢ ÊÄªÁªìËÄÉËØïÂ∏∏ËÄÉÁü•ËØÜÁÇπ
‚Ä¢ ËÆ∞ÂΩïËá™Â∑±ÁöÑÁêÜËß£ÂíåÁñëÈóÆ

üí° ‰ΩøÁî®ÊäÄÂ∑ßÔºö
‚Ä¢ ‰ΩøÁî® Ctrl+S Âø´ÈÄü‰øùÂ≠ò
‚Ä¢ ÁÇπÂáªÂ∑¶‰æßÂÜÖÂÆπÂèØÂø´ÈÄüÊ∑ªÂä†Á¨îËÆ∞
‚Ä¢ ‰ΩøÁî®Ê®°ÊùøÂø´ÈÄüÊ†ºÂºèÂåñÂÜÖÂÆπ"></textarea>
                    <div class="note-stats">
                        <span id="general-chars">Â≠óÁ¨¶Êï∞: 0</span>
                        <span id="general-words">ÂçïËØçÊï∞: 0</span>
                        <span id="general-time">ÊúÄÂêé‰øùÂ≠ò: Êú™‰øùÂ≠ò</span>
                    </div>
                </div>

                <div class="note-content" id="exam-notes">
                    <textarea class="note-editor" id="exam-editor" placeholder="ËÄÉËØïÈáçÁÇπÁ¨îËÆ∞...

üéØ ËΩØËÄÉÈáçÁÇπÔºö
1. ËÆæÂ§áÂàÜÂ±ÇÂØπÂ∫îÂÖ≥Á≥ª (35%)
2. ‰º†ËæìÂçï‰ΩçÂêçÁß∞ (25%)
3. ÂÜ≤Á™ÅÂüüÂíåÂπøÊí≠Âüü (20%)
4. Âú∞ÂùÄÁ±ªÂûãÂå∫ÂàÜ (15%)
5. ÂçèËÆÆÂäüËÉΩÁâπÁÇπ (5%)

üìã ËÆ∞ÂøÜÂè£ËØÄÔºö
‚Ä¢ Áâ©Êï∞ÁΩë‰º†‰ºöË°®Â∫î
‚Ä¢ ÊØîÁâπÂ∏ßÂåÖÊÆµÊï∞ÊçÆÊï∞ÊçÆÊï∞ÊçÆ
‚Ä¢ ÈõÜÁ∫øÂô®-‰∫§Êç¢Êú∫-Ë∑ØÁî±Âô®"></textarea>
                    <div class="note-stats">
                        <span id="exam-chars">Â≠óÁ¨¶Êï∞: 0</span>
                        <span id="exam-words">ÂçïËØçÊï∞: 0</span>
                        <span id="exam-time">ÊúÄÂêé‰øùÂ≠ò: Êú™‰øùÂ≠ò</span>
                    </div>
                </div>

                <div class="note-content" id="review-notes">
                    <textarea class="note-editor" id="review-editor" placeholder="Â§ç‰π†ËÆ°Âàí...

üìÖ Â≠¶‰π†ËÆ°ÂàíÔºö
Á¨¨1Âë®ÔºöÂü∫Á°ÄÊ¶ÇÂøµÁêÜËß£
Á¨¨2Âë®ÔºöËÆæÂ§áÂäüËÉΩÊéåÊè°
Á¨¨3Âë®ÔºöÂçèËÆÆÊ∑±ÂÖ•Â≠¶‰π†
Á¨¨4Âë®ÔºöÁªºÂêàÁªÉ‰π†

‚úÖ Â§ç‰π†Ê£ÄÊü•Ê∏ÖÂçïÔºö
‚ñ° ‰∏ÉÂ±ÇÊ®°ÂûãÂäüËÉΩ
‚ñ° ËÆæÂ§áÂàÜÂ±ÇÂØπÂ∫î
‚ñ° ‰º†ËæìÂçï‰ΩçÂå∫Âà´
‚ñ° ÂüüÊ¶ÇÂøµÁêÜËß£
‚ñ° Â∏∏Áî®ÂçèËÆÆÊéåÊè°"></textarea>
                    <div class="note-stats">
                        <span id="review-chars">Â≠óÁ¨¶Êï∞: 0</span>
                        <span id="review-words">ÂçïËØçÊï∞: 0</span>
                        <span id="review-time">ÊúÄÂêé‰øùÂ≠ò: Êú™‰øùÂ≠ò</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Á¨îËÆ∞Êï∞ÊçÆÂ≠òÂÇ®
        let notesData = {
            general: '',
            exam: '',
            review: ''
        };

        // ÂΩìÂâçÊ¥ªË∑ÉÁöÑÊ†áÁ≠æÈ°µ
        let currentTab = 'general';

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        window.addEventListener('load', function() {
            loadNotes();
            updateStats();

            // ‰∏∫ÊâÄÊúâÁºñËæëÂô®Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨
            document.querySelectorAll('.note-editor').forEach(editor => {
                editor.addEventListener('input', function() {
                    updateStats();
                    autoSave();
                });

                editor.addEventListener('keydown', function(e) {
                    if (e.ctrlKey && e.key === 's') {
                        e.preventDefault();
                        saveNotes();
                    }
                });
            });
        });

        // ÂàáÊç¢Â±ÇÂÜÖÂÆπÊòæÁ§∫
        function toggleLayer(layerNum) {
            const content = document.getElementById(`layer-${layerNum}-content`);
            const header = content.previousElementSibling;
            const arrow = header.querySelector('span:last-child');

            if (content.classList.contains('active')) {
                content.classList.remove('active');
                arrow.textContent = '‚ñº';
            } else {
                content.classList.add('active');
                arrow.textContent = '‚ñ≤';
            }
        }

        // ÂàáÊç¢Á¨îËÆ∞Ê†áÁ≠æÈ°µ
        function switchTab(tabName) {
            // ‰øùÂ≠òÂΩìÂâçÊ†áÁ≠æÈ°µÂÜÖÂÆπ
            saveCurrentTabContent();

            // Êõ¥Êñ∞Ê†áÁ≠æÈ°µÁä∂ÊÄÅ
            document.querySelectorAll('.note-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');

            // Êõ¥Êñ∞ÂÜÖÂÆπÂå∫Âüü
            document.querySelectorAll('.note-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabName}-notes`).classList.add('active');

            // Âä†ËΩΩÂØπÂ∫îÂÜÖÂÆπ
            currentTab = tabName;
            document.getElementById(`${tabName}-editor`).value = notesData[tabName];
            updateStats();
        }

        // ‰øùÂ≠òÂΩìÂâçÊ†áÁ≠æÈ°µÂÜÖÂÆπ
        function saveCurrentTabContent() {
            const editor = document.getElementById(`${currentTab}-editor`);
            notesData[currentTab] = editor.value;
        }

        // Ê∑ªÂä†Â±ÇÁ∫ßÁ¨îËÆ∞
        function addLayerNote(layerNum, layerName) {
            const template = `\n\nüìå ${layerName} Á¨îËÆ∞ (${new Date().toLocaleString()})\n` +
                           `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
                           `üîç Ê†∏ÂøÉÊ¶ÇÂøµÔºö\n\n` +
                           `üí° ÈáçË¶ÅÁü•ËØÜÁÇπÔºö\n\n` +
                           `‚ùì ÁñëÈóÆËÆ∞ÂΩïÔºö\n\n` +
                           `üéØ ËÄÉËØïË¶ÅÁÇπÔºö\n\n`;

            const editor = document.getElementById(`${currentTab}-editor`);
            editor.value += template;
            editor.focus();
            editor.scrollTop = editor.scrollHeight;
            updateStats();
        }

        // ÊèíÂÖ•Âø´ÈÄüÊ®°Êùø
        function insertTemplate(type) {
            const templates = {
                'ÈáçÁÇπ': `‚≠ê ÈáçÁÇπÔºö\n`,
                'ÁñëÈóÆ': `‚ùì ÁñëÈóÆÔºö\n`,
                'ÊÄªÁªì': `üìã ÊÄªÁªìÔºö\n`,
                'ËÄÉÁÇπ': `üéØ ËÄÉÁÇπÔºö\n`
            };

            const editor = document.getElementById(`${currentTab}-editor`);
            const template = templates[type] || '';
            editor.value += `\n${template}`;
            editor.focus();
            editor.scrollTop = editor.scrollHeight;
            updateStats();
        }

        // Êõ¥Êñ∞ÁªüËÆ°‰ø°ÊÅØ
        function updateStats() {
            const editor = document.getElementById(`${currentTab}-editor`);
            const content = editor.value;
            const chars = content.length;
            const words = content.trim() ? content.trim().split(/\s+/).length : 0;

            document.getElementById(`${currentTab}-chars`).textContent = `Â≠óÁ¨¶Êï∞: ${chars}`;
            document.getElementById(`${currentTab}-words`).textContent = `ÂçïËØçÊï∞: ${words}`;
        }

        // ‰øùÂ≠òÁ¨îËÆ∞
        function saveNotes() {
            saveCurrentTabContent();
            localStorage.setItem('osiNotes', JSON.stringify(notesData));

            const now = new Date().toLocaleString();
            document.querySelectorAll('[id$="-time"]').forEach(timeSpan => {
                timeSpan.textContent = `ÊúÄÂêé‰øùÂ≠ò: ${now}`;
            });

            // ÊòæÁ§∫‰øùÂ≠òÊàêÂäüÊèêÁ§∫
            showNotification('üíæ Á¨îËÆ∞Â∑≤‰øùÂ≠ò', 'success');
        }

        // Âä†ËΩΩÁ¨îËÆ∞
        function loadNotes() {
            const saved = localStorage.getItem('osiNotes');
            if (saved) {
                notesData = JSON.parse(saved);
                document.getElementById('general-editor').value = notesData.general || '';
                document.getElementById('exam-editor').value = notesData.exam || '';
                document.getElementById('review-editor').value = notesData.review || '';
            }
        }

        // Ëá™Âä®‰øùÂ≠ò
        let autoSaveTimer;
        function autoSave() {
            clearTimeout(autoSaveTimer);
            autoSaveTimer = setTimeout(() => {
                saveNotes();
            }, 5000); // 5ÁßíÂêéËá™Âä®‰øùÂ≠ò
        }

        // ÂØºÂá∫Á¨îËÆ∞
        function exportNotes() {
            saveCurrentTabContent();

            const exportContent = `# OSI‰∏ÉÂ±ÇÊ®°ÂûãÂ≠¶‰π†Á¨îËÆ∞\n\n` +
                                `## üìù ÈÄöÁî®Á¨îËÆ∞\n${notesData.general}\n\n` +
                                `## üéØ ËÄÉËØïÈáçÁÇπ\n${notesData.exam}\n\n` +
                                `## üìö Â§ç‰π†ËÆ°Âàí\n${notesData.review}\n\n` +
                                `---\nÂØºÂá∫Êó∂Èó¥: ${new Date().toLocaleString()}`;

            const blob = new Blob([exportContent], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `OSI‰∏ÉÂ±ÇÊ®°ÂûãÁ¨îËÆ∞_${new Date().toISOString().split('T')[0]}.md`;
            a.click();
            URL.revokeObjectURL(url);

            showNotification('üì§ Á¨îËÆ∞Â∑≤ÂØºÂá∫', 'success');
        }

        // Ê∏ÖÁ©∫Á¨îËÆ∞
        function clearNotes() {
            if (confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÁ¨îËÆ∞ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ')) {
                notesData = { general: '', exam: '', review: '' };
                document.querySelectorAll('.note-editor').forEach(editor => {
                    editor.value = '';
                });
                localStorage.removeItem('osiNotes');
                updateStats();
                showNotification('üóëÔ∏è Á¨îËÆ∞Â∑≤Ê∏ÖÁ©∫', 'warning');
            }
        }

        // ÊµÆÂä®Â∑•ÂÖ∑ÂäüËÉΩ
        function addBookmark() {
            const editor = document.getElementById(`${currentTab}-editor`);
            const bookmark = `\nüìå ‰π¶Á≠æ (${new Date().toLocaleTimeString()})\n`;
            editor.value += bookmark;
            updateStats();
            showNotification('üìå ‰π¶Á≠æÂ∑≤Ê∑ªÂä†', 'info');
        }

        function highlightText() {
            const editor = document.getElementById(`${currentTab}-editor`);
            const start = editor.selectionStart;
            const end = editor.selectionEnd;
            const selectedText = editor.value.substring(start, end);

            if (selectedText) {
                const highlightedText = `üñçÔ∏è ${selectedText} üñçÔ∏è`;
                editor.value = editor.value.substring(0, start) + highlightedText + editor.value.substring(end);
                updateStats();
                showNotification('üñçÔ∏è ÊñáÊú¨Â∑≤È´ò‰∫Æ', 'info');
            } else {
                showNotification('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÈ´ò‰∫ÆÁöÑÊñáÊú¨', 'warning');
            }
        }

        function searchNotes() {
            const keyword = prompt('ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØçÔºö');
            if (keyword) {
                const editor = document.getElementById(`${currentTab}-editor`);
                const content = editor.value;
                const regex = new RegExp(keyword, 'gi');
                const matches = content.match(regex);

                if (matches) {
                    showNotification(`üîç ÊâæÂà∞ ${matches.length} ‰∏™ÂåπÈÖçÈ°π`, 'success');
                    // È´ò‰∫ÆÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÈ°π
                    const firstMatch = content.search(regex);
                    if (firstMatch !== -1) {
                        editor.focus();
                        editor.setSelectionRange(firstMatch, firstMatch + keyword.length);
                    }
                } else {
                    showNotification('üîç Êú™ÊâæÂà∞ÂåπÈÖçÈ°π', 'warning');
                }
            }
        }

        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: bold;
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;

            const colors = {
                success: '#28a745',
                warning: '#ffc107',
                error: '#dc3545',
                info: '#17a2b8'
            };

            notification.style.background = colors[type] || colors.info;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Ê∑ªÂä†CSSÂä®Áîª
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
